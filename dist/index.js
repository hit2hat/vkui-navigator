!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("@babel/runtime/helpers/classCallCheck"),require("@babel/runtime/helpers/createClass"),require("@babel/runtime/helpers/possibleConstructorReturn"),require("@babel/runtime/helpers/getPrototypeOf"),require("@babel/runtime/helpers/assertThisInitialized"),require("@babel/runtime/helpers/inherits"),require("@babel/runtime/helpers/defineProperty"),require("@babel/runtime/helpers/typeof"),require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/objectWithoutProperties"),require("@babel/runtime/helpers/slicedToArray"),require("react-dom"),require("@babel/runtime/helpers/toConsumableArray")):"function"==typeof define&&define.amd?define(["react","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass","@babel/runtime/helpers/possibleConstructorReturn","@babel/runtime/helpers/getPrototypeOf","@babel/runtime/helpers/assertThisInitialized","@babel/runtime/helpers/inherits","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/typeof","@babel/runtime/helpers/extends","@babel/runtime/helpers/objectWithoutProperties","@babel/runtime/helpers/slicedToArray","react-dom","@babel/runtime/helpers/toConsumableArray"],t):(e=e||self).app=t(e.React,e._classCallCheck,e._createClass,e._possibleConstructorReturn,e._getPrototypeOf,e._assertThisInitialized,e._inherits,e._defineProperty,e._typeof,e._extends,e._objectWithoutProperties,e._slicedToArray,e.ReactDOM,e._toConsumableArray)}(this,(function(e,t,n,o,r,i,a,s,l,c,u,p,d,f){"use strict";var h="default"in e?e.default:e;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,f=f&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f;var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y(e,t){return e(t={exports:{}},t.exports),t.exports
/** @license React v16.13.1
	 * react-is.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */}var w="function"==typeof Symbol&&Symbol.for,g=w?Symbol.for("react.element"):60103,b=w?Symbol.for("react.portal"):60106,E=w?Symbol.for("react.fragment"):60107,P=w?Symbol.for("react.strict_mode"):60108,S=w?Symbol.for("react.profiler"):60114,k=w?Symbol.for("react.provider"):60109,O=w?Symbol.for("react.context"):60110,_=w?Symbol.for("react.async_mode"):60111,M=w?Symbol.for("react.concurrent_mode"):60111,x=w?Symbol.for("react.forward_ref"):60112,T=w?Symbol.for("react.suspense"):60113,C=w?Symbol.for("react.suspense_list"):60120,j=w?Symbol.for("react.memo"):60115,A=w?Symbol.for("react.lazy"):60116,N=w?Symbol.for("react.block"):60121,B=w?Symbol.for("react.fundamental"):60117,R=w?Symbol.for("react.responder"):60118,V=w?Symbol.for("react.scope"):60119;function D(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case g:switch(e=e.type){case _:case M:case E:case S:case P:case T:return e;default:switch(e=e&&e.$$typeof){case O:case x:case A:case j:case k:return e;default:return t}}case b:return t}}}function W(e){return D(e)===M}var L={AsyncMode:_,ConcurrentMode:M,ContextConsumer:O,ContextProvider:k,Element:g,ForwardRef:x,Fragment:E,Lazy:A,Memo:j,Portal:b,Profiler:S,StrictMode:P,Suspense:T,isAsyncMode:function(e){return W(e)||D(e)===_},isConcurrentMode:W,isContextConsumer:function(e){return D(e)===O},isContextProvider:function(e){return D(e)===k},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===g},isForwardRef:function(e){return D(e)===x},isFragment:function(e){return D(e)===E},isLazy:function(e){return D(e)===A},isMemo:function(e){return D(e)===j},isPortal:function(e){return D(e)===b},isProfiler:function(e){return D(e)===S},isStrictMode:function(e){return D(e)===P},isSuspense:function(e){return D(e)===T},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===E||e===M||e===S||e===P||e===T||e===C||"object"==typeof e&&null!==e&&(e.$$typeof===A||e.$$typeof===j||e.$$typeof===k||e.$$typeof===O||e.$$typeof===x||e.$$typeof===B||e.$$typeof===R||e.$$typeof===V||e.$$typeof===N)},typeOf:D},H=y((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,o=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,w=e?Symbol.for("react.responder"):60118,g=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var f=e.type;switch(f){case c:case u:case r:case a:case i:case d:return f;default:var v=f&&f.$$typeof;switch(v){case l:case p:case m:case h:case s:return v;default:return t}}case o:return t}}}var E=c,P=u,S=l,k=s,O=n,_=p,M=r,x=m,T=h,C=o,j=a,A=i,N=d,B=!1;function R(e){return b(e)===u}t.AsyncMode=E,t.ConcurrentMode=P,t.ContextConsumer=S,t.ContextProvider=k,t.Element=O,t.ForwardRef=_,t.Fragment=M,t.Lazy=x,t.Memo=T,t.Portal=C,t.Profiler=j,t.StrictMode=A,t.Suspense=N,t.isAsyncMode=function(e){return B||(B=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),R(e)||b(e)===c},t.isConcurrentMode=R,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===r},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===h},t.isPortal=function(e){return b(e)===o},t.isProfiler=function(e){return b(e)===a},t.isStrictMode=function(e){return b(e)===i},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===i||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===s||e.$$typeof===l||e.$$typeof===p||e.$$typeof===y||e.$$typeof===w||e.$$typeof===g||e.$$typeof===v)},t.typeOf=b}()})),I=(H.AsyncMode,H.ConcurrentMode,H.ContextConsumer,H.ContextProvider,H.Element,H.ForwardRef,H.Fragment,H.Lazy,H.Memo,H.Portal,H.Profiler,H.StrictMode,H.Suspense,H.isAsyncMode,H.isConcurrentMode,H.isContextConsumer,H.isContextProvider,H.isElement,H.isForwardRef,H.isFragment,H.isLazy,H.isMemo,H.isPortal,H.isProfiler,H.isStrictMode,H.isSuspense,H.isValidElementType,H.typeOf,y((function(e){"production"===process.env.NODE_ENV?e.exports=L:e.exports=H}))),Y=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;function K(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var $=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,r=K(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))F.call(n,a)&&(r[a]=n[a]);if(Y){o=Y(n);for(var s=0;s<o.length;s++)q.call(n,o[s])&&(r[o[s]]=n[o[s]])}}return r},X="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",U=function(){};if("production"!==process.env.NODE_ENV){var z=X,G={},J=Function.call.bind(Object.prototype.hasOwnProperty);U=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function Q(e,t,n,o,r){if("production"!==process.env.NODE_ENV)for(var i in e)if(J(e,i)){var a;try{if("function"!=typeof e[i]){var s=Error((o||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw s.name="Invariant Violation",s}a=e[i](t,i,o,n,null,z)}catch(e){a=e}if(!a||a instanceof Error||U((o||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in G)){G[a.message]=!0;var l=r?r():"";U("Failed "+n+" type: "+a.message+(null!=l?l:""))}}}Q.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(G={})};var Z=Q,ee=Function.call.bind(Object.prototype.hasOwnProperty),te=function(){};function ne(){return null}"production"!==process.env.NODE_ENV&&(te=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});var oe=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var o={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:a(ne),arrayOf:function(e){return a((function(t,n,o,r,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new i("Invalid "+r+" `"+a+"` of type `"+c(s)+"` supplied to `"+o+"`, expected an array.");for(var l=0;l<s.length;l++){var u=e(s,l,o,r,a+"["+l+"]",X);if(u instanceof Error)return u}return null}))},element:a((function(t,n,o,r,a){var s=t[n];return e(s)?null:new i("Invalid "+r+" `"+a+"` of type `"+c(s)+"` supplied to `"+o+"`, expected a single ReactElement.")})),elementType:a((function(e,t,n,o,r){var a=e[t];return I.isValidElementType(a)?null:new i("Invalid "+o+" `"+r+"` of type `"+c(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return a((function(t,n,o,r,a){if(!(t[n]instanceof e)){var s=e.name||"<<anonymous>>";return new i("Invalid "+r+" `"+a+"` of type `"+function(e){if(!e.constructor||!e.constructor.name)return"<<anonymous>>";return e.constructor.name}(t[n])+"` supplied to `"+o+"`, expected instance of `"+s+"`.")}return null}))},node:a((function(e,t,n,o,r){return l(e[t])?null:new i("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return a((function(t,n,o,r,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],l=c(s);if("object"!==l)return new i("Invalid "+r+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected an object.");for(var u in s)if(ee(s,u)){var p=e(s,u,o,r,a+"."+u,X);if(p instanceof Error)return p}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&(arguments.length>1?te("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):te("Invalid argument supplied to oneOf, expected an array.")),ne;function t(t,n,o,a,s){for(var l=t[n],c=0;c<e.length;c++)if(r(l,e[c]))return null;var p=JSON.stringify(e,(function(e,t){return"symbol"===u(t)?String(t):t}));return new i("Invalid "+a+" `"+s+"` of value `"+String(l)+"` supplied to `"+o+"`, expected one of "+p+".")}return a(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&te("Invalid argument supplied to oneOfType, expected an instance of array."),ne;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return te("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+p(n)+" at index "+t+"."),ne}return a((function(t,n,o,r,a){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,o,r,a,X))return null}return new i("Invalid "+r+" `"+a+"` supplied to `"+o+"`.")}))},shape:function(e){return a((function(t,n,o,r,a){var s=t[n],l=c(s);if("object"!==l)return new i("Invalid "+r+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");for(var u in e){var p=e[u];if(p){var d=p(s,u,o,r,a+"."+u,X);if(d)return d}}return null}))},exact:function(e){return a((function(t,n,o,r,a){var s=t[n],l=c(s);if("object"!==l)return new i("Invalid "+r+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");var u=$({},t[n],e);for(var p in u){var d=e[p];if(!d)return new i("Invalid "+r+" `"+a+"` key `"+p+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=d(s,p,o,r,a+"."+p,X);if(f)return f}return null}))}};function r(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function i(e){this.message=e,this.stack=""}function a(e){if("production"!==process.env.NODE_ENV)var n={},o=0;function r(r,a,s,l,c,u,p){if(l=l||"<<anonymous>>",u=u||s,p!==X){if(t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var f=l+":"+s;!n[f]&&o<3&&(te("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[f]=!0,o++)}}return null==a[s]?r?null===a[s]?new i("The "+c+" `"+u+"` is marked as required in `"+l+"`, but its value is `null`."):new i("The "+c+" `"+u+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:e(a,s,l,c,u)}var a=r.bind(null,!1);return a.isRequired=r.bind(null,!0),a}function s(e){return a((function(t,n,o,r,a,s){var l=t[n];return c(l)!==e?new i("Invalid "+r+" `"+a+"` of type `"+u(l)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function l(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(l);if(null===t||e(t))return!0;var o=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!o)return!1;var r,i=o.call(t);if(o!==t.entries){for(;!(r=i.next()).done;)if(!l(r.value))return!1}else for(;!(r=i.next()).done;){var a=r.value;if(a&&!l(a[1]))return!1}return!0;default:return!1}}function c(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function u(e){if(null==e)return""+e;var t=c(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function p(e){var t=u(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return i.prototype=Error.prototype,o.checkPropTypes=Z,o.resetWarningCache=Z.resetWarningCache,o.PropTypes=o,o};function re(){}function ie(){}ie.resetWarningCache=re;var ae=y((function(e){if("production"!==process.env.NODE_ENV){var t=I;e.exports=oe(t.isElement,!0)}else e.exports=function(){function e(e,t,n,o,r,i){if(i!==X){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ie,resetWarningCache:re};return n.PropTypes=n,n}()})),se=function(){return(se=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function le(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}function ce(e,t){var n,o,r=(n={current:0,next:function(){return++this.current}},o={},{add:function(e,t){var r=null!=t?t:n.next();return o[r]=e,r},resolve:function(e,t,n){var r=o[e];r&&(n(t)?r.resolve(t):r.reject(t),o[e]=null)}});return t((function(e){if(e.detail&&e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["request_id"]);n&&r.resolve(n,o,(function(e){return!("error_type"in e)}))}})),function(t,n){return void 0===n&&(n={}),new Promise((function(o,i){var a=r.add({resolve:o,reject:i},n.request_id);e(t,se(se({},n),{request_id:a}))}))}}var ue="undefined"!=typeof window,pe=Boolean(ue&&window.AndroidBridge),de=Boolean(ue&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),fe=!pe&&!de,he=fe?"message":"VKWebAppEvent",me=["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGeodata","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppResizeWindow","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppShowStoryBox"],ve=ue?window.AndroidBridge:void 0,ye=de?window.webkit.messageHandlers:void 0;"undefined"==typeof window||window.CustomEvent||(window.CustomEvent=function(){function e(e,t){var n=t||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),o}return e.prototype=Event.prototype,e}());var we,ge=function(e){var t=void 0,n=[];function o(e){n.push(e)}"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(he,(function(e){if(de||pe)return le(n).map((function(t){return t.call(null,e)}));if(fe&&e&&e.data){var o=e.data,r=o.type,i=o.data,a=o.frameId;r&&"VKWebAppSettings"===r?t=a:le(n).map((function(e){return e({detail:{type:r,data:i}})}))}}));var r=ce((function(n,o){ve&&ve[n]?ve[n](JSON.stringify(o)):ye&&ye[n]&&"function"==typeof ye[n].postMessage?ye[n].postMessage(o):fe&&parent.postMessage({handler:n,params:o,type:"vk-connect",webFrameId:t,connectVersion:e},"*")}),o);return{send:r,sendPromise:r,subscribe:o,unsubscribe:function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},supports:function(e){return pe?!(!ve||"function"!=typeof ve[e]):de?!(!ye||!ye[e]||"function"!=typeof ye[e].postMessage):!!fe&&me.indexOf(e)>-1},isWebView:function(){return de||pe}}}("2.1.4"),be=!("undefined"==typeof window||!window.document||!window.document.createElement);if(be){var Ee=Element.prototype;Ee.matches||(Ee.matches=Ee.matchesSelector||Ee.webkitMatchesSelector||Ee.mozMatchesSelector||Ee.msMatchesSelector),Ee.closest||(Ee.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}function Pe(){for(var e=[],t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){if(t)switch(l(t)){case"string":e.push(t);break;case"object":Object.keys(t).forEach((function(n){t[n]&&e.push(n)}));break;default:e.push("".concat(t))}})),e.join(" ")}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var r=0|t,i=Math.max(r>=0?r:o-Math.abs(r),0);function a(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}for(;i<o;){if(a(n[i],e))return!0;i++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,o=arguments[1],r=0;r<n;r++){var i=t[r];if(e.call(o,i,r,t))return i}}}),function(e){e.ANDROID="android",e.IOS="ios"}(we||(we={}));var Se=we.ANDROID,ke=we.IOS;function Oe(e){var t=e||be&&navigator.userAgent||"";return/android/i.test(t)?Se:ke}var _e,Me;Oe();function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe();return"".concat(e," ").concat(e,"--").concat(t)}if("undefined"!=typeof document&&document.createElement){var Te=document.createElement("div");for(var Ce in Te.style)if(Te.style.hasOwnProperty(Ce)){var je=Ce.match(/^(moz|webkit|ms|)(transition|animation)$/i);je&&(_e=!0),je&&je[1]&&(Me=je[1].toLowerCase())}}var Ae={supported:_e,prefix:Me,transitionEndEventName:Me?Me+"TransitionEnd":"transitionend",animationEndEventName:Me?Me+"AnimationEnd":"animationend"},Ne=h.createContext({platform:null});function Be(e){return function(t){var n=h.useContext(Ne);return h.createElement(e,c({},t,{platform:n.platform||Oe()}))}}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"onAnimationEnd",(function(e){if(!e||["root-android-animation-hide-back","root-android-animation-show-forward","root-ios-animation-hide-back","root-ios-animation-show-forward"].includes(e.animationName)){var t=n.state.isBack,o=n.state.prevView,r=n.state.nextView;n.setState({activeView:r,prevView:null,nextView:null,visibleViews:[r],transition:!1,isBack:void 0},(function(){n.window.scrollTo(0,t?n.state.scrolls[n.state.activeView]:0),n.props.onTransition&&n.props.onTransition({isBack:t,from:o,to:r})}))}})),n.state={activeView:e.activeView,prevView:null,nextView:null,visibleViews:[e.activeView],isBack:void 0,scrolls:{},transition:!1},n}return a(l,e),n(l,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.popout&&!e.popout&&this.blurActiveElement(),this.props.activeView!==e.activeView){var o=this.window.pageYOffset,r=[].concat(e.children).find((function(t){return t.props.id===e.activeView||t.props.id===n.props.activeView})).props.id===this.props.activeView;this.blurActiveElement();var i=this.props.activeView,a=e.activeView;this.setState({scrolls:Ve({},this.state.scrolls,s({},e.activeView,o)),transition:!0,activeView:null,nextView:i,prevView:a,visibleViews:[i,a],isBack:r})}if(!t.transition&&this.state.transition){var l=this.document.getElementById("view-".concat(this.state.prevView)),c=this.document.getElementById("view-".concat(this.state.nextView));l.querySelector(".View__panel").scrollTop=this.state.scrolls[this.state.prevView],this.state.isBack&&(c.querySelector(".View__panel").scrollTop=this.state.scrolls[this.state.nextView]),this.waitAnimationFinish(this.state.isBack?l:c,this.onAnimationEnd)}}},{key:"waitAnimationFinish",value:function(e,t){if(Ae.supported){var n=Ae.prefix?Ae.prefix+"AnimationEnd":"animationend";e.removeEventListener(n,t),e.addEventListener(n,t)}else setTimeout(t.bind(this),this.props.platform===Se?300:600)}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement&&this.document.activeElement.blur()}},{key:"render",value:function(){var e=this,t=this.props,n=t.popout,o=t.modal,r=t.platform,i=this.state,a=i.transition,s=i.isBack,l=i.prevView,c=i.activeView,u=i.nextView,p=this.arrayChildren.filter((function(t){return e.state.visibleViews.includes(t.props.id)})),d=xe("Root",r);return h.createElement("div",{className:Pe(d,this.props.className,{"Root--transition":a})},p.map((function(e){return h.createElement("div",{key:e.props.id,id:"view-".concat(e.props.id),className:Pe("Root__view",{"Root__view--hide-back":e.props.id===l&&s,"Root__view--hide-forward":e.props.id===l&&!s,"Root__view--show-back":e.props.id===u&&s,"Root__view--show-forward":e.props.id===u&&!s,"Root__view--active":e.props.id===c})},e)})),!!n&&h.createElement("div",{className:"Root__popout"},n),!!o&&h.createElement("div",{className:"Root__modal"},o))}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"arrayChildren",get:function(){return[].concat(this.props.children)}}]),l}(e.Component);s(De,"defaultProps",{popout:null}),s(De,"contextTypes",{window:ae.any,document:ae.any});var We=Be(De);var Le=function(e){return e.pageX||e.changedTouches&&e.changedTouches[0].pageX},He=function(e){return e.pageY||e.changedTouches&&e.changedTouches[0].pageY},Ie="undefined"!=typeof window&&"ontouchstart"in window;function Ye(e,t,n,o){if(o||e<0)return e;var r=e*n;return r*t/(r+t)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=Ie?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"],$e=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"cancelClick",void 0),s(i(n),"gesture",{}),s(i(n),"container",void 0),s(i(n),"onStart",(function(e){n.gesture={startX:Le(e),startY:He(e),startT:new Date,isPressed:!0};var t=qe({},n.gesture,{originalEvent:e});n.props.onStart&&n.props.onStart(t),n.props.onStartX&&n.props.onStartX(t),n.props.onStartY&&n.props.onStartY(t),!Ie&&n.subscribe(n.document)})),s(i(n),"onMove",(function(e){var t=n.gesture,o=t.isPressed,r=t.isX,i=t.isY,a=t.startX,s=t.startY;if(o){var l=Le(e)-a,c=He(e)-s,u=Math.abs(l),p=Math.abs(c);if(e.touches&&e.touches.length>1)return n.onEnd(e);if(!r&&!i){var d=u>=5&&u>p,f=p>=5&&p>u,h=d&&!!n.props.onMoveX||!!n.props.onMove,m=f&&!!n.props.onMoveY||!!n.props.onMove;n.gesture.isY=f,n.gesture.isX=d,n.gesture.isSlideX=h,n.gesture.isSlideY=m,n.gesture.isSlide=h||m}if(n.gesture.isSlide){n.gesture.shiftX=l,n.gesture.shiftY=c,n.gesture.shiftXAbs=u,n.gesture.shiftYAbs=p;var v=qe({},n.gesture,{originalEvent:e});n.props.onMove&&n.props.onMove(v),n.gesture.isSlideX&&n.props.onMoveX&&n.props.onMoveX(v),n.gesture.isSlideY&&n.props.onMoveY&&n.props.onMoveY(v)}}})),s(i(n),"onEnd",(function(e){var t=n.gesture,o=t.isPressed,r=t.isSlide,i=t.isSlideX,a=t.isSlideY;if(o){var s=qe({},n.gesture,{originalEvent:e});n.props.onEnd&&n.props.onEnd(s),a&&n.props.onEndY&&n.props.onEndY(s),i&&n.props.onEndX&&n.props.onEndX(s)}var l=e.target;n.cancelClick="A"===l.tagName&&r,n.gesture={},!Ie&&n.unsubscribe(n.document)})),s(i(n),"onDragStart",(function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()})),s(i(n),"onClick",(function(e){n.cancelClick&&(n.cancelClick=!1,e.preventDefault()),n.props.onClick&&n.props.onClick(e)})),s(i(n),"getRef",(function(e){n.container=e;var t=n.props.getRootRef;t&&("function"==typeof t?t(e):t.current=e)})),n.cancelClick=!1,n}return a(l,e),n(l,[{key:"componentDidMount",value:function(){be&&(this.container.addEventListener(Ke[0],this.onStart,{capture:this.props.useCapture,passive:!1}),Ie&&this.subscribe(this.container))}},{key:"componentWillUnmount",value:function(){this.container.removeEventListener(Ke[0],this.onStart),Ie&&this.unsubscribe(this.container)}},{key:"subscribe",value:function(e){var t={capture:this.props.useCapture,passive:!1};e.addEventListener(Ke[1],this.onMove,t),e.addEventListener(Ke[2],this.onEnd,t),e.addEventListener(Ke[3],this.onEnd,t)}},{key:"unsubscribe",value:function(e){var t={capture:this.props.useCapture,passive:!1};e.removeEventListener(Ke[1],this.onMove,t),e.removeEventListener(Ke[2],this.onEnd,t),e.removeEventListener(Ke[3],this.onEnd,t)}},{key:"render",value:function(){var e=this.props,t=(e.onStart,e.onStartX,e.onStartY,e.onMove,e.onMoveX,e.onMoveY,e.onEnd,e.onEndX,e.onEndY,e.useCapture,e.Component),n=(e.getRootRef,u(e,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onEnd","onEndX","onEndY","useCapture","Component","getRootRef"]));return h.createElement(t,c({},n,{onDragStart:this.onDragStart,onClick:this.onClick,ref:this.getRef}),this.props.children)}},{key:"document",get:function(){return this.context.document||document}}]),l}(e.Component);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ue({},e);return t.forEach((function(e){return delete n[e]})),n}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}s($e,"defaultProps",{Component:"div",children:"",useCapture:!1}),s($e,"contextTypes",{document:ae.object});var Qe;!function(e){e[e.fail=1]="fail",e[e.success=2]="success"}(Qe||(Qe={}));var Ze={},et=["input","textarea"],tt=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"transitionEndHandler",(function(e){if(!e||["animation-ios-next-forward","animation-ios-prev-back","animation-android-next-forward","animation-android-prev-back"].includes(e.animationName)){var t=n.props.activePanel,o=n.state.isBack,r=n.state.prevPanel;n.document.dispatchEvent(new n.window.CustomEvent("VKUI:View:transition-end")),n.setState({prevPanel:null,nextPanel:null,visiblePanels:[t],activePanel:t,animated:!1,isBack:void 0,scrolls:o?ze(n.state.scrolls,[r]):n.state.scrolls},(function(){o&&n.window.scrollTo(0,n.state.scrolls[t]),n.props.onTransition&&n.props.onTransition({isBack:o,from:r,to:t})}))}})),s(i(n),"swipingBackTransitionEndHandler",(function(e){var t=e.target;if(e.propertyName.includes("transform")&&t.classList.contains("View__panel--swipe-back-next"))switch(n.state.swipeBackResult){case Qe.fail:n.onSwipeBackCancel();break;case Qe.success:n.onSwipeBackSuccess()}})),s(i(n),"onScrollTop",(function(){if(n.state.activePanel){var e=n.document.body.scrollTop||n.document.documentElement.scrollTop;e&&function(e){var t=e.duration,n=e.timing,o=e.draw;if("undefined"!=typeof window){var r=window.performance.now();window.requestAnimationFrame((function e(i){var a=(i-r)/t;a>1&&(a=1);var s=n(a);o(s),a<1&&window.requestAnimationFrame(e)}))}}({duration:200,timing:function(e){return Math.sqrt(e)},draw:function(t){n.window.scrollTo(0,e-t*e)}})}})),s(i(n),"onMoveX",(function(e){if(!e.originalEvent.target||"string"!=typeof e.originalEvent.target.tagName||!et.includes(e.originalEvent.target.tagName.toLowerCase())){var t=n.props.platform;if(t!==ke||n.context.isWebView||!(e.startX<=70||e.startX>=n.window.innerWidth-70)||n.state.browserSwipe||n.setState({browserSwipe:!0}),t===ke&&n.context.isWebView&&n.props.onSwipeBack){if(n.state.animated&&e.startX<=70)return;var o;if(e.startX<=70&&!n.state.swipingBack&&n.props.history.length>1&&n.setState({swipingBack:!0,swipebackStartX:e.startX,startT:e.startT,swipeBackPrevPanel:n.state.activePanel,swipeBackNextPanel:n.props.history.slice(-2)[0],scrolls:Je({},n.state.scrolls,s({},n.state.activePanel,n.window.pageYOffset))}),n.state.swipingBack)o=e.shiftX<0?0:e.shiftX>n.window.innerWidth-n.state.swipebackStartX?n.window.innerWidth:e.shiftX,n.setState({swipeBackShift:o})}}})),s(i(n),"onEnd",(function(){if(n.state.swipingBack){var e=n.state.swipeBackShift/(Date.now()-n.state.startT)*1e3;0===n.state.swipeBackShift?n.onSwipeBackCancel():n.state.swipeBackShift>=n.window.innerWidth?n.onSwipeBackSuccess():e>250||n.state.swipebackStartX+n.state.swipeBackShift>n.window.innerWidth/2?n.setState({swipeBackResult:Qe.success}):n.setState({swipeBackResult:Qe.fail})}})),n.state={scrolls:Ze[e.id]||{},animated:!1,visiblePanels:[e.activePanel],activePanel:e.activePanel,isBack:void 0,prevPanel:null,nextPanel:null,swipingBack:!1,swipebackStartX:0,swipeBackShift:0,swipeBackNextPanel:null,swipeBackPrevPanel:null,swipeBackResult:null,browserSwipe:!1},n}return a(l,e),n(l,[{key:"componentWillUnmount",value:function(){this.props.id&&(Ze[this.props.id]=this.state.scrolls)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.popout&&!e.popout&&this.blurActiveElement(),this.props.modal&&!e.modal&&this.blurActiveElement(),e.activePanel!==this.props.activePanel&&!t.swipingBack&&!t.browserSwipe){var o=this.panels.find((function(t){return t.props.id===e.activePanel||t.props.id===n.props.activePanel})),r=o&&o.props.id===this.props.activePanel;this.blurActiveElement(),this.setState({visiblePanels:[e.activePanel,this.props.activePanel],prevPanel:e.activePanel,nextPanel:this.props.activePanel,activePanel:null,animated:!0,scrolls:Je({},t.scrolls,s({},e.activePanel,this.window.pageYOffset)),isBack:r})}if(e.activePanel!==this.props.activePanel&&t.swipingBack){var i=this.props.activePanel,a=e.activePanel;this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0,activePanel:i,visiblePanels:[i],scrolls:ze(t.scrolls,[t.swipeBackPrevPanel])},(function(){n.document.dispatchEvent(new n.window.CustomEvent("VKUI:View:transition-end")),window.scrollTo(0,t.scrolls[n.state.activePanel]),e.onTransition&&e.onTransition({isBack:!0,from:a,to:i})}))}var l=this.state.scrolls;if(!t.animated&&this.state.animated){this.document.dispatchEvent(new this.window.CustomEvent("VKUI:View:transition-start",{detail:{scrolls:l}}));var c=this.pickPanel(this.state.nextPanel);this.pickPanel(this.state.prevPanel).scrollTop=l[this.state.prevPanel],this.state.isBack&&(c.scrollTop=l[this.state.nextPanel]),this.waitAnimationFinish(this.pickPanel(this.state.isBack?this.state.prevPanel:this.state.nextPanel),this.transitionEndHandler)}if(!t.swipingBack&&this.state.swipingBack){this.document.dispatchEvent(new this.window.CustomEvent("VKUI:View:transition-start",{detail:{scrolls:l}})),this.props.onSwipeBackStart&&this.props.onSwipeBackStart();var u=this.pickPanel(this.state.swipeBackNextPanel),p=this.pickPanel(this.state.swipeBackPrevPanel);u.scrollTop=l[this.state.swipeBackNextPanel],p.scrollTop=l[this.state.swipeBackPrevPanel]}!t.swipeBackResult&&this.state.swipeBackResult&&this.waitTransitionFinish(this.pickPanel(this.state.swipeBackNextPanel),this.swipingBackTransitionEndHandler),t.swipeBackResult!==Qe.fail||this.state.swipeBackResult||this.window.scrollTo(0,l[this.state.activePanel]),e.activePanel!==this.props.activePanel&&this.state.browserSwipe&&this.setState({browserSwipe:!1,nextPanel:null,prevPanel:null,animated:!1,visiblePanels:[this.props.activePanel],activePanel:this.props.activePanel})}},{key:"waitTransitionFinish",value:function(e,t){if(Ae.supported){var n=Ae.prefix?Ae.prefix+"TransitionEnd":"transitionend";e.removeEventListener(n,t),e.addEventListener(n,t)}else setTimeout((function(){return t()}),this.props.platform===Se?300:600)}},{key:"waitAnimationFinish",value:function(e,t){if(Ae.supported){var n=Ae.prefix?Ae.prefix+"AnimationEnd":"animationend";e.removeEventListener(n,t),e.addEventListener(n,t)}else setTimeout((function(){return t()}),this.props.platform===Se?300:600)}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement&&this.document.activeElement.blur()}},{key:"pickPanel",value:function(e){var t=this.document.getElementById(e);return t||console.warn("Element #".concat(e," not found")),t&&t.parentNode.parentNode}},{key:"onSwipeBackSuccess",value:function(){this.props.onSwipeBack&&this.props.onSwipeBack()}},{key:"onSwipeBackCancel",value:function(){var e=this;this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0},(function(){e.document.dispatchEvent(new e.window.CustomEvent("VKUI:View:transition-end"))}))}},{key:"calcPanelSwipeStyles",value:function(e){var t=e===this.state.swipeBackPrevPanel,n=e===this.state.swipeBackNextPanel;if(!t&&!n||this.state.swipeBackResult)return{};var o="".concat(this.state.swipeBackShift,"px"),r="".concat(100*this.state.swipeBackShift/this.window.innerWidth/2-50,"%"),i=.3*(this.window.innerWidth-this.state.swipeBackShift)/this.window.innerWidth;return this.state.swipeBackResult?t?{boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}:n?{transform:"translate3d(".concat(r,", 0, 0)"),WebkitTransform:"translate3d(".concat(r,", 0, 0)")}:t?{transform:"translate3d(".concat(o,", 0, 0)"),WebkitTransform:"translate3d(".concat(o,", 0, 0)"),boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}}},{key:"calcHeaderSwipeStyles",value:function(e){var t=e===this.state.swipeBackPrevPanel,n=e===this.state.swipeBackNextPanel;if(!t&&!n||null!==this.state.swipeBackResult)return{title:{},left:{},addon:{},right:{}};var o=this.state.swipeBackShift/this.window.innerWidth,r=this.state.swipeBackShift/this.window.innerWidth*30,i=this.state.swipeBackShift/this.window.innerWidth*30;return n?{title:{transform:"translate3d(".concat(-30+r,"vw, 0, 0)"),WebkitTransform:"translate3d(".concat(-30+r,"vw, 0, 0)"),opacity:o},left:{opacity:o},addon:{opacity:1,transform:"translate3d(".concat(-30+i,"vw, 0, 0)"),WebkitTransform:"translate3d(".concat(-30+i,"vw, 0, 0)")},right:{opacity:o}}:t?{title:{transform:"translate3d(".concat(r,"vw, 0, 0)"),WebkitTransform:"translate3d(".concat(r,"vw, 0, 0)"),opacity:1-o},left:{opacity:1-o},addon:{transform:"translate3d(".concat(i,"vw, 0, 0)"),WebkitTransform:"translate3d(".concat(i,"vw, 0, 0)"),opacity:1-o}}:{}}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,o=t.popout,r=t.modal,i=t.header,a=t.platform,s=this.state,l=s.prevPanel,c=s.nextPanel,u=s.activePanel,p=s.swipeBackPrevPanel,d=s.swipeBackNextPanel,f=s.swipeBackResult,m=!!o,v=!!r,y=this.panels.filter((function(t){var n=t.props.id;return e.state.visiblePanels.includes(n)||n===p||n===d})),w={"View--header":i,"View--animated":this.state.animated,"View--swiping-back":this.state.swipingBack};return h.createElement($e,{Component:"section",className:Pe(xe("View",a),this.props.className,w),style:n,onMoveX:this.onMoveX,onEnd:this.onEnd},i&&h.createElement("div",{className:"View__header"},a===ke&&h.createElement("div",{className:"View__header-scrolltop",onClick:this.onScrollTop}),h.createElement("div",{className:Pe(xe("PanelHeader",a))},y.map((function(t){var n=t.props.id,o=e.calcHeaderSwipeStyles(n);return h.createElement("div",{className:Pe("PanelHeader__in",{"PanelHeader__in--active":n===u,"PanelHeader__in--prev":n===l,"PanelHeader__in--next":n===c,"PanelHeader__in--swipe-back-prev":n===p,"PanelHeader__in--swipe-back-next":n===d,"PanelHeader__in--swipe-back-success":f===Qe.success,"PanelHeader__in--swipe-back-failed":f===Qe.fail}),key:n,id:"panel-header-".concat(n)},h.createElement("div",{className:"PanelHeader__container"},h.createElement("div",{className:"PanelHeader__left"},h.createElement("div",{className:"PanelHeader__left-in",id:"header-left-".concat(n),style:o.left}),a===ke&&h.createElement("div",{className:"PanelHeader__addon",id:"header-addon-".concat(n),style:o.addon})),h.createElement("div",{className:"PanelHeader__content",style:o.title,id:"header-title-".concat(n)}),h.createElement("div",{className:"PanelHeader__right",id:"header-right-".concat(n),style:o.right})))})))),h.createElement("div",{className:"View__panels"},y.map((function(t){var n=t.props.id;return h.createElement("div",{className:Pe("View__panel",{"View__panel--active":n===u,"View__panel--prev":n===l,"View__panel--next":n===c,"View__panel--swipe-back-prev":n===p,"View__panel--swipe-back-next":n===d,"View__panel--swipe-back-success":f===Qe.success,"View__panel--swipe-back-failed":f===Qe.fail}),style:e.calcPanelSwipeStyles(n),key:n},h.createElement("div",{className:"View__panel-in"},t))}))),m&&h.createElement("div",{className:"View__popout"},o),v&&h.createElement("div",{className:"View__modal"},r))}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"panels",get:function(){return[].concat(this.props.children)}}]),l}(e.Component);s(tt,"defaultProps",{header:!0,history:[]}),s(tt,"contextTypes",{isWebView:ae.bool,window:ae.any,document:ae.any});var nt=Be(tt);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var rt={bottom:null,top:null,left:null,right:null};function it(e){var t=e.detail,n=t.type,o=t.data;switch(n){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var r=o.insets;if(r)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{bottom:r.bottom>150?0:r.bottom})}return null}function at(e){return"function"==typeof e}function st(){return e.useContext(Ne).platform||Oe()}ge.subscribe((function(e){var t=it(e);t&&(rt=t)}));var lt=e.createContext(!1);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=function(){return+Date.now()},dt={};function ft(e){Object.keys(dt).filter((function(t){return t!==e})).forEach((function(e){clearTimeout(dt[e].activeTimeout),clearTimeout(dt[e].timeout),dt[e].stop(),delete dt[e]}))}var ht=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"id",void 0),s(i(n),"isSlide",void 0),s(i(n),"insideTouchRoot",void 0),s(i(n),"container",void 0),s(i(n),"timeout",void 0),s(i(n),"wavesTimeout",void 0),s(i(n),"onStart",(function(e){var t=e.originalEvent;!n.insideTouchRoot&&n.props.stopPropagation&&t.stopPropagation(),t.touches&&t.touches.length>1?ft():(n.props.platform===Se&&n.onDown(t),dt[n.id]={stop:n.stop,activeTimeout:window.setTimeout(n.start,70)})})),s(i(n),"onMove",(function(e){var t=e.originalEvent,o=e.shiftXAbs,r=e.shiftYAbs;!n.insideTouchRoot&&n.props.stopPropagation&&t.stopPropagation(),(o>20||r>20)&&(n.isSlide=!0,n.stop())})),s(i(n),"onEnd",(function(e){var t=e.originalEvent;!n.insideTouchRoot&&n.props.stopPropagation&&t.stopPropagation();var o=pt();if(t.touches&&t.touches.length>0)n.isSlide=!1;else{if(n.state.active)if(o-n.state.ts>=100)n.stop();else{var r=window.setTimeout(n.stop,n.props.activeEffectDelay-o+n.state.ts),i=n.getStorage();i&&(i.timeout=r)}else if(!n.isSlide){n.start();var a=window.setTimeout(n.stop,n.props.activeEffectDelay);n.getStorage()?(clearTimeout(n.getStorage().activeTimeout),n.getStorage().timeout=a):n.timeout=a}n.isSlide=!1}})),s(i(n),"onDown",(function(e){if(n.props.platform===Se){var t=(c=n.container,u=c.getBoundingClientRect(),p=document.body,d=document.documentElement,f=window.pageYOffset||d.scrollTop||p.scrollTop,h=window.pageXOffset||d.scrollLeft||p.scrollLeft,m=d.clientTop||p.clientTop||0,v=d.clientLeft||p.clientLeft||0,{top:u.top+f-m,left:u.left+h-v,width:c.offsetWidth,height:c.offsetHeight}),o=t.top,r=t.left,i=Le(e)-r,a=He(e)-o,l="wave"+Date.now().toString();n.setState((function(e){return{clicks:ut({},e.clicks,s({},l,{x:i,y:a}))}})),n.wavesTimeout=window.setTimeout((function(){n.setState((function(e){var t=ut({},e.clicks);return delete t[l],{clicks:t}}))}),225)}var c,u,p,d,f,h,m,v})),s(i(n),"start",(function(){n.state.active||n.setState({active:!0,ts:pt()}),ft(n.id)})),s(i(n),"stop",(function(){n.state.active&&n.setState({active:!1,ts:null}),n.getStorage()&&(clearTimeout(n.getStorage().activeTimeout),delete dt[n.id])})),s(i(n),"getStorage",(function(){return dt[n.id]})),s(i(n),"getRef",(function(e){n.container=e;var t=n.props.getRootRef;t&&("function"==typeof t?t(e):t.current=e)})),n.id=Math.round(1e8*Math.random()).toString(16),n.state={clicks:{},active:!1,ts:null},n.isSlide=!1,n}return a(l,e),n(l,[{key:"componentWillUnmount",value:function(){dt[this.id]&&(clearTimeout(dt[this.id].timeout),clearTimeout(dt[this.id].activeTimeout),delete dt[this.id]),clearTimeout(this.wavesTimeout)}},{key:"render",value:function(){var e=this,t=this.state,n=t.clicks,o=t.active,r=this.props,i=r.children,a=r.className,s=r.Component,l=(r.activeEffectDelay,r.stopPropagation,r.getRootRef,r.platform),p=u(r,["children","className","Component","activeEffectDelay","stopPropagation","getRootRef","platform"]),d=Pe(xe("Tappable",l),a,{"Tappable--active":o,"Tappable--inactive":!o}),f=p.disabled?s:$e,m={};return p.disabled?m.ref=this.getRef:(m.Component=s,m.onStart=this.onStart,m.onMove=this.onMove,m.onEnd=this.onEnd,m.getRootRef=this.getRef),h.createElement(lt.Consumer,null,(function(t){return e.insideTouchRoot=t,h.createElement(f,c({},p,{className:d},m),l===Se&&h.createElement("span",{className:"Tappable__waves"},Object.keys(n).map((function(e){return h.createElement("span",{className:"Tappable__wave",style:{top:n[e].y,left:n[e].x},key:e})}))),i)}))}}]),l}(e.Component);s(ht,"defaultProps",{Component:"div",role:"button",stopPropagation:!1,disabled:!1,activeEffectDelay:600});var mt,vt,yt,wt=Be(ht),gt=function(e){var t=e.className,n=e.children,o=e.primary,r=u(e,["className","children","primary"]),i="string"==typeof n||"number"==typeof n,a=r.href?"a":"button",s=st();return h.createElement(wt,c({},r,{Component:a,activeEffectDelay:200,className:Pe(xe("PanelHeaderButton",s),t,{"PanelHeaderButton--primary":o})}),i?h.createElement("span",{className:"PanelHeaderButton__primitive"},n):n)};gt.defaultProps={primary:!1},function(e){e.DARK="dark",e.LIGHT="light"}(mt||(mt={})),function(e){e.DEPRECATED_CLIENT_LIGHT="client_light",e.DEPRECATED_CLIENT_DARK="client_dark",e.BRIGHT_LIGHT="bright_light",e.SPACE_GRAY="space_gray"}(vt||(vt={})),function(e){e.VKAPPS="vkapps",e.INTERNAL="internal"}(yt||(yt={}));var bt=e.createContext({}),Et=function(e){function i(){return t(this,i),o(this,r(i).apply(this,arguments))}return a(i,e),n(i,[{key:"getChildContext",value:function(){return{hasTabbar:this.props.hasOwnProperty("tabbar")}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.activeStory,o=e.tabbar,r=e.children,i=e.platform,a=u(e,["className","activeStory","tabbar","children","platform"]);return h.createElement("div",c({},a,{className:Pe(xe("Epic",i),t)}),h.Children.toArray(r).find((function(e){return e.props.id===n})),o)}}]),i}(e.Component);s(Et,"childContextTypes",{hasTabbar:ae.bool});var Pt=Be(Et),St=function(t){var n,o=t.className,r=t.children,i=t.shadow,a=t.itemsLayout,s=st(),l=function(){var t=e.useState(rt),n=p(t,2),o=n[0],r=n[1];return e.useEffect((function(){function e(e){var t=it(e);t&&r(t)}return ge.subscribe(e),function(){ge.unsubscribe(e)}}),[]),o}();return h.createElement("div",{className:Pe(xe("Tabbar",s),o,"Tabbar--l-".concat(function(){switch(a){case"horizontal":case"vertical":return a;default:return h.Children.count(r)>2?"vertical":"horizontal"}}()),{"Tabbar--shadow":i}),style:{paddingBottom:(n=l.bottom,!isNaN(parseFloat(n))&&isFinite(n)?l.bottom:null)}},r)};St.defaultProps={shadow:!0};var kt=function(e){var t=e.className,n=e.children,o=e.selected,r=e.label,i=e.text,a=u(e,["className","children","selected","label","text"]),s=st();return h.createElement("div",c({},a,{className:Pe(xe("TabbarItem",s),t,{"TabbarItem--selected":o})}),h.createElement("div",{className:"TabbarItem__in"},h.createElement("div",{className:"TabbarItem__icon"},n,r&&h.createElement("span",{className:"TabbarItem__label"},r)),i&&h.createElement("div",{className:"TabbarItem__text"},i)))},Ot=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"elRef",void 0),s(i(n),"animationFinishTimeout",void 0),s(i(n),"onFadeInEnd",(function(e){e&&"animation-full-fade-in"!==e.animationName||n.setState({opened:!0})})),s(i(n),"preventTouch",(function(e){return e.preventDefault()})),s(i(n),"onClick",(function(e){n.state.opened&&n.props.onClick&&n.props.onClick(e)})),n.state={opened:!1},n.elRef=h.createRef(),n}return a(l,e),n(l,[{key:"componentDidMount",value:function(){be&&(window.addEventListener("touchmove",this.preventTouch,{passive:!1}),this.waitAnimationFinish(this.elRef.current,this.onFadeInEnd))}},{key:"componentWillUnmount",value:function(){be&&(window.removeEventListener("touchmove",this.preventTouch,{passive:!1}),window.clearTimeout(this.animationFinishTimeout))}},{key:"waitAnimationFinish",value:function(e,t){if(Ae.supported){var n=Ae.prefix?Ae.prefix+"AnimationEnd":"animationend";e.removeEventListener(n,t),e.addEventListener(n,t)}else{var o=this.props.platform;this.animationFinishTimeout=window.setTimeout(t,o===Se?300:600)}}},{key:"render",value:function(){var e=this.props,t=e.alignY,n=e.alignX,o=e.closing,r=e.children,i=e.hasMask,a=(e.onClick,e.className),s=e.platform,l=u(e,["alignY","alignX","closing","children","hasMask","onClick","className","platform"]),p=xe("PopoutWrapper",s);return h.createElement("div",c({},l,{className:Pe(p,"PopoutWrapper--v-".concat(t),"PopoutWrapper--h-".concat(n),{"PopoutWrapper--closing":o},a),onClick:this.onClick,ref:this.elRef}),i&&h.createElement("div",{className:"PopoutWrapper__mask"}),h.createElement("div",{className:"PopoutWrapper__container"},r))}}]),l}(e.Component);s(Ot,"defaultProps",{hasMask:!0,alignY:"center",alignX:"center",closing:!1});var _t=Be(Ot),Mt=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"element",void 0),s(i(n),"onItemClick",(function(e){return function(){var t=e.action,o=e.autoclose;o?(n.setState({closing:!0}),n.waitTransitionFinish((function(e){e&&"opacity"!==e.propertyName||(o&&n.props.onClose(),t&&t())}))):t&&t()}})),s(i(n),"onClose",(function(){n.setState({closing:!0}),n.waitTransitionFinish((function(e){e&&"opacity"!==e.propertyName||n.props.onClose()}))})),s(i(n),"stopPropagation",(function(e){e.stopPropagation()})),n.element=h.createRef(),n.state={closing:!1},n}return a(l,e),n(l,[{key:"waitTransitionFinish",value:function(e){if(Ae.supported){var t=Ae.prefix?Ae.prefix+"TransitionEnd":"transitionend";this.element.current.removeEventListener(t,e),this.element.current.addEventListener(t,e)}else setTimeout(e.bind(this),this.props.platform===Se?200:300)}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,o=t.actionsLayout,r=t.children,i=t.className,a=t.style,s=t.platform,l=u(t,["actions","actionsLayout","children","className","style","platform"]),p=this.state.closing;return h.createElement(_t,{className:i,closing:p,style:a,onClick:this.onClose},h.createElement("div",c({},l,{ref:this.element,onClick:this.stopPropagation,className:Pe(xe("Alert",s),{"Alert--v":"vertical"===o,"Alert--h":"horizontal"===o,"Alert--closing":p})}),h.createElement("div",{className:"Alert__content"},r),h.createElement("footer",{className:"Alert__footer"},n.map((function(t,n){return h.createElement(wt,{Component:"button",className:Pe("Alert__btn","Alert__btn--".concat(t.mode)),onClick:e.onItemClick(t),key:"alert-action-".concat(n)},h.createElement("span",{dangerouslySetInnerHTML:{__html:t.title}}))})))))}}]),l}(e.Component);s(Mt,"defaultProps",{actionsLayout:"horizontal",actions:[]});var xt=Be(Mt),Tt=y((function(e,t){e.exports=function(){var e=function(e){var t=e.id,n=e.viewBox,o=e.content;this.id=t,this.viewBox=n,this.content=o};function t(e,t){return e(t={exports:{}},t.exports),t.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))},"undefined"!=typeof window?window:void 0!==m||"undefined"!=typeof self&&self;var n=t((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var r;return n&&!0===n.clone&&e(t)?o((r=t,Array.isArray(r)?[]:{}),t,n):t}function n(n,r,i){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,i):e(r)?a[s]=o(n[s],r,i):-1===n.indexOf(r)&&a.push(t(r,i))})),a}function o(r,i,a){var s=Array.isArray(i),l=(a||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(r)?l(r,i,a):t(i,a):function(n,r,i){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],i)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=o(n[s],r[s],i):a[s]=t(r[s],i)})),a}(r,i,a)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return o(e,n,t)}))},o}()})),o=t((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),r=o.svg,i=o.xlink,a={};a[r.name]=r.uri,a[i.name]=i.uri;var s=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(a,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(s(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)}()}));function Ct(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i=Object.keys(Object(r)),a=0,s=i.length;a<s;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(r,l);void 0!==c&&c.enumerable&&(n[l]=r[l])}}return n}var jt=Ct,At=y((function(e,t){e.exports=function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==m||"undefined"!=typeof self&&self;var t=e((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var r;return n&&!0===n.clone&&e(t)?o((r=t,Array.isArray(r)?[]:{}),t,n):t}function n(n,r,i){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,i):e(r)?a[s]=o(n[s],r,i):-1===n.indexOf(r)&&a.push(t(r,i))})),a}function o(r,i,a){var s=Array.isArray(i),l=(a||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(r)?l(r,i,a):t(i,a):function(n,r,i){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],i)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=o(n[s],r[s],i):a[s]=t(r[s],i)})),a}(r,i,a)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return o(e,n,t)}))},o}()})),n=e((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),o=n.svg,r=n.xlink,i={};i[o.name]=o.uri,i[r.name]=r.uri;var a,s=function(e,n){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(t(i,n||{}))+">"+e+"</svg>"},l=n.svg,c=n.xlink,u={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; ")},a[l.name]=l.uri,a[c.name]=c.uri,a)},p=function(e){this.config=t(u,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return s(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var d=function(e){var t=e.id,n=e.viewBox,o=e.content;this.id=t,this.viewBox=n,this.content=o};d.prototype.stringify=function(){return this.content},d.prototype.toString=function(){return this.stringify()},d.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var f=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},h=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return f(s(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(d),v={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},y=function(e){return Array.prototype.slice.call(e,0)},w=function(){return/firefox/i.test(navigator.userAgent)},g=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},b=function(){return/edge/i.test(navigator.userAgent)},E=function(e){return(e||window.location.href).split("#")[0]},P=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,o){var r,i,a;r=e,i={oldUrl:o,newUrl:n},(a=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,i),window.dispatchEvent(a)}))}])},S=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),y(e.querySelectorAll("symbol")).forEach((function(e){y(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e},k=n.xlink.uri,O=/[{}|\\\^\[\]`"<>]/g;function _(e){return e.replace(O,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var M=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],x=M.map((function(e){return"["+e+"]"})).join(","),T=function(e,t,n,o){var r=_(n),i=_(o);(function(e,t){return y(e).reduce((function(e,n){if(!n.attributes)return e;var o=y(n.attributes),r=t?o.filter(t):o;return e.concat(r)}),[])})(e.querySelectorAll(x),(function(e){var t=e.localName,n=e.value;return-1!==M.indexOf(t)&&-1!==n.indexOf("url("+r)})).forEach((function(e){return e.value=e.value.replace(new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i)})),function(e,t,n){y(e).forEach((function(e){var o=e.getAttribute("xlink:href");if(o&&0===o.indexOf(t)){var r=o.replace(t,n);e.setAttributeNS(k,"xlink:href",r)}}))}(t,r,i)},C="mount",j="symbol_mount";return function(e){function n(n){var o=this;void 0===n&&(n={}),e.call(this,t(v,n));var r,i=(r=r||Object.create(null),{on:function(e,t){(r[e]||(r[e]=[])).push(t)},off:function(e,t){r[e]&&r[e].splice(r[e].indexOf(t)>>>0,1)},emit:function(e,t){(r[e]||[]).map((function(e){e(t)})),(r["*"]||[]).map((function(n){n(e,t)}))}});this._emitter=i,this.node=null;var a=this.config;if(a.autoConfigure&&this._autoConfigure(n),a.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");i.on(C,(function(){return o.updateUrls("#",s)}))}var l=this._handleLocationChange.bind(this);this._handleLocationChange=l,a.listenLocationChangeEvent&&window.addEventListener(a.locationChangeEvent,l),a.locationChangeAngularEmitter&&P(a.locationChangeEvent),i.on(C,(function(e){a.moveGradientsOutsideSymbol&&S(e)})),i.on(j,(function(e){var t;a.moveGradientsOutsideSymbol&&S(e.parentNode),(g()||b())&&(t=[],y(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})))}))}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={isMounted:{}};return o.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=w())},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,o=t.newUrl;this.updateUrls(n,o)},n.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(j,t.node)),n},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var o="string"==typeof e?document.querySelector(e):e;return n.node=o,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(j,e.node)})),y(o.querySelectorAll("symbol")).forEach((function(e){var t=h.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(C,o),o},n.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach((function(e){return e.destroy()})),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){if(void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1),this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,o=this.render();return this.node=o,t&&n.childNodes[0]?n.insertBefore(o,n.childNodes[0]):n.appendChild(o),this._emitter.emit(C,o),o},n.prototype.render=function(){return f(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return T(this.node,n,E(e)+"#",E(t)+"#"),!0},Object.defineProperties(n.prototype,o),n}(p)}()})),Nt=y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=(n=At)&&n.__esModule?n:{default:n};!("undefined"==typeof window||!window.document||!window.document.createElement)?(o=new r.default({attrs:{id:"__SVG_SPRITE_NODE__"}})).mount():o=null;var i=o;t.default=i}));v(Nt);var Bt=y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=h)&&n.__esModule?n:{default:n};function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c={display:"block"};function u(e){var t=e.width,n=e.height,i=e.viewBox,s=e.id,u=e.className,p=e.style,d=e.fill,f=e.getRootRef,h=l(e,["width","height","viewBox","id","className","style","fill","getRootRef"]),m=Math.max(t,n);return o.default.createElement("div",r({},h,{ref:f,className:"Icon Icon--".concat(m," Icon--").concat(s," ").concat(u),style:a({},p,{width:t,height:n})}),o.default.createElement("svg",{viewBox:i,width:t,height:n,style:c},o.default.createElement("use",{xlinkHref:"#".concat(s),style:{fill:"currentColor",color:d}})))}u.defaultProps={className:"",style:{}};var p=u;t.default=p}));v(Bt);var Rt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(Tt),r=a(Nt),i=a(Bt);function a(e){return e&&e.__esModule?e:{default:e}}var s="spinner_24";if(r.default){var l=new o.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="spinner_24"><path d="M12 24a1.25 1.25 0 1 1 0-2.5A9.5 9.5 0 1 0 2.5 12c0 1.1.187 2.175.548 3.188a1.25 1.25 0 0 1-2.355.84A11.981 11.981 0 0 1 0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12z" fill="currentColor" fill-rule="nonzero" /></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,jt({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};t.default=c}))),Vt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(Tt),r=a(Nt),i=a(Bt);function a(e){return e&&e.__esModule?e:{default:e}}var s="spinner_32";if(r.default){var l=new o.default({id:s,viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 15.97 15.97 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16z" fill="currentColor" fill-rule="nonzero" /></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,jt({},e,{viewBox:"0 0 32 32",id:s,width:isNaN(e.width)?32:+e.width,height:isNaN(e.height)?32:+e.height}))};t.default=c}))),Dt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(Tt),r=a(Nt),i=a(Bt);function a(e){return e&&e.__esModule?e:{default:e}}var s="spinner_44";if(r.default){var l=new o.default({id:s,viewBox:"0 0 44 44",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A21.964 21.964 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22z" fill="currentColor" fill-rule="nonzero" /></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,jt({},e,{viewBox:"0 0 44 44",id:s,width:isNaN(e.width)?44:+e.width,height:isNaN(e.height)?44:+e.height}))};t.default=c}))),Wt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(Tt),r=a(Nt),i=a(Bt);function a(e){return e&&e.__esModule?e:{default:e}}var s="spinner_16";if(r.default){var l=new o.default({id:s,viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="spinner_16"><path d="M8 16a1 1 0 1 1 0-2 6 6 0 1 0-5.7-4.12 1 1 0 1 1-1.9.626A8 8 0 1 1 8 16z" fill="currentColor" fill-rule="nonzero" /></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,jt({},e,{viewBox:"0 0 16 16",id:s,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};t.default=c}))),Lt=function(e){var t=e.className,n=e.size,o=u(e,["className","size"]),r=st();return h.createElement("div",c({},o,{className:Pe(xe("Spinner",r),t)}),function(e){switch(e){case"large":return h.createElement(Dt,{className:"Spinner__self"});case"medium":return h.createElement(Vt,{className:"Spinner__self"});case"small":return h.createElement(Wt,{className:"Spinner__self"});default:return h.createElement(Rt,{className:"Spinner__self"})}}(n))};Lt.defaultProps={size:"regular"};var Ht=h.memo(Lt),It=function(e){var t=e.style,n=e.className,o=u(e,["style","className"]),r=st();return h.createElement(_t,{className:Pe(xe("ScreenSpinner",r),n),style:t},h.createElement("div",{className:"ScreenSpinner__container"},h.createElement(Ht,c({size:"large"},o))))};function Yt(e,t){e.style.transform=t,e.style.webkitTransform=t}var Ft=e.createContext({updateModalHeight:function(){}});function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t="modal-page";function Xt(e,t){return e>=t[0]&&e<=t[1]}function Ut(e){return Math.max(0,Math.min(98,e))}var zt=function(e){function l(e){var n;t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"modalsState",void 0),s(i(n),"documentScrolling",void 0),s(i(n),"activeTransitions",void 0),s(i(n),"maskElementRef",void 0),s(i(n),"maskAnimationFrame",void 0),s(i(n),"modalRootContext",void 0),s(i(n),"preventTouch",(function(e){if(e){for(;e.originalEvent;)e=e.originalEvent;e.preventDefault()}})),s(i(n),"updateModalHeight",(function(){var e=n.state,t=e.activeModal,o=e.nextModal,r=t||o,i=r?n.modalsState[r]:void 0;i&&i.type===$t&&i.dynamicContentHeight&&(n.state.switching?n.waitTransitionFinish(i,(function(){requestAnimationFrame((function(){return n.checkPageContentHeight()}))})):requestAnimationFrame((function(){return n.checkPageContentHeight()})))})),s(i(n),"onTouchMove",(function(e){if(!n.state.switching){var t=n.state.activeModal||n.state.nextModal;if(t){var o=n.modalsState[t];return o.type===$t?n.onPageTouchMove(e,o):"modal-card"===o.type?n.onCardTouchMove(e,o):void 0}}})),s(i(n),"onTouchEnd",(function(e){var t=n.state.activeModal||n.state.nextModal;if(t){var o=n.modalsState[t];return o.type===$t?n.onPageTouchEnd(e,o):"modal-card"===o.type?n.onCardTouchEnd(o):void 0}})),s(i(n),"onScroll",(function(e){var t=n.state.activeModal;if(t&&e.target.closest(".ModalPage__content")){var o=n.modalsState[t];o.contentScrolled=!0,clearTimeout(o.contentScrollStopTimeout),o.contentScrollStopTimeout=window.setTimeout((function(){o.contentScrolled&&(o.contentScrolled=!1)}),250)}})),s(i(n),"prevNextSwitchEndHandler",(function(){if(n.activeTransitions=Math.max(0,n.activeTransitions-1),!(n.activeTransitions>0)){var e=n.state.nextModal,t={prevModal:null,nextModal:null,visibleModals:[e],activeModal:e,animated:!1,switching:!1};e||(t.history=[]),n.setState(t)}})),s(i(n),"doCloseModal",(function(e){at(e.onClose)?e.onClose():at(n.props.onClose)?n.props.onClose(e.id):console.error("[ModalRoot] onClose is undefined")})),s(i(n),"onMaskClick",(function(){n.state.switching||n.triggerActiveModalClose()}));var a=e.activeModal;return n.state={activeModal:null,prevModal:null,nextModal:a,visibleModals:a?[a]:[],animated:!!a,switching:!1,history:a?[a]:[],isBack:!1,inited:!1,touchDown:!1,dragging:!1},n.activeTransitions=0,n.maskElementRef=h.createRef(),n.initModalsState(),n.modalRootContext={updateModalHeight:n.updateModalHeight},n}return a(l,e),n(l,[{key:"initModalsState",value:function(){this.modalsState=this.modals.reduce((function(e,t){var n=t.props,o={id:t.props.id,onClose:t.props.onClose,dynamicContentHeight:!!n.dynamicContentHeight};return"number"==typeof n.settlingHeight&&(o.settlingHeight=n.settlingHeight),e[o.id]=o,e}),{})}},{key:"componentDidMount",value:function(){this.initActiveModal()}},{key:"componentWillUnmount",value:function(){this.toggleDocumentScrolling(!0)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.activeModal!==e.activeModal&&!this.state.switching){var o=this.props.activeModal,r=e.activeModal;if(null!==o&&!this.modalsState[o])return console.warn("[ModalRoot.componentDidUpdate] nextModal ".concat(o," not found"));var i=f(this.state.history),a=!1;return null===o?i=[]:i.includes(o)?(i=i.splice(0,i.indexOf(o)+1),a=!0):i.push(o),this.setState({activeModal:null,nextModal:o,prevModal:r,visibleModals:[o,r],history:i,isBack:a,animated:!0,inited:!1,switching:!1},(function(){null===o?n.closeActiveModal():n.initActiveModal()}))}this.state.switching&&!t.switching&&requestAnimationFrame((function(){return n.switchPrevNext()})),this.state.activeModal||this.state.prevModal||this.state.nextModal?this.toggleDocumentScrolling(!1):this.toggleDocumentScrolling(!0)}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement instanceof HTMLElement&&this.document.activeElement.blur()}},{key:"toggleDocumentScrolling",value:function(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1}):this.window.addEventListener("touchmove",this.preventTouch,{passive:!1}))}},{key:"pickModal",value:function(e){return this.document.getElementById("modal-"+e)}},{key:"initActiveModal",value:function(){var e=this.state.activeModal||this.state.nextModal;if(e){var t=this.pickModal(e),n=this.modalsState[e];switch(t.querySelector(".ModalPage")?n.type=$t:t.querySelector(".ModalCard")&&(n.type="modal-card"),n.type){case $t:n.settlingHeight=n.settlingHeight||75,this.initPageModal(n,t);break;case"modal-card":this.initCardModal(n,t);break;default:console.warn("[ModalRoot.initActiveModal] modalState.type is unknown")}this.setState({inited:!0,switching:!0})}}},{key:"initPageModal",value:function(e,t){var n=t.querySelector(".ModalPage__content"),o=n.firstElementChild.offsetHeight,r=e.translateY;e.expandable=o>n.clientHeight,e.modalElement=t,e.innerElement=t.querySelector(".ModalPage__in-wrap"),e.headerElement=t.querySelector(".ModalPage__header"),e.contentElement=t.querySelector(".ModalPage__content"),e.footerElement=t.querySelector(".ModalPage__footer");var i,a,s,l,c,u=!1,p=!1;if(e.expandable){var d=(i=100-e.settlingHeight)/2,f=100-i;s=[0,d],l=[d,i+f/4],c=[i+f/4,100],u=i>0,p=i<=0,a=i}else{s=[a=i=100-(o+e.headerElement.offsetHeight)/e.innerElement.parentElement.offsetHeight*100,a+25],l=[a+25,a+25],c=[a+25,a+100]}e.expandable&&a>r&&(a=0),e.expandedRange=s,e.collapsedRange=l,e.hiddenRange=c,e.translateY=a,e.translateYFrom=i,e.collapsed=u,e.expanded=p}},{key:"initCardModal",value:function(e,t){e.modalElement=t,e.innerElement=t.querySelector(".ModalCard__in"),e.translateY=0}},{key:"checkPageContentHeight",value:function(){var e=this.state.activeModal,t=this.pickModal(e);if(t){var n=this.modalsState[e],o=Kt({},n);this.initPageModal(n,t);var r=Kt({},n),i=!1;o.expandable===r.expandable?o.translateYFrom!==r.translateYFrom&&(i=!0):i=!0,i&&(this.animateTranslate(n),this.animatePageHeader(n))}}},{key:"closeActiveModal",value:function(){var e=this.state.prevModal;if(!e)return console.warn("[ModalRoot.closeActiveModal] prevModal is ".concat(e));var t=this.modalsState[e];this.waitTransitionFinish(t,this.prevNextSwitchEndHandler),this.animateTranslate(t,100),this.setMaskOpacity(t,0)}},{key:"onPageTouchMove",value:function(e,t){var n=e.shiftY,o=e.startT,r=e.originalEvent;if(e.isY){if(!r.target.closest(".ModalPage__in"))return r.preventDefault();r.stopPropagation();var i=t.expandable,a=t.contentScrolled,s=t.collapsed,l=t.expanded;if(this.state.touchDown||(t.touchStartTime=o,t.touchStartContentScrollTop=t.contentElement.scrollTop,this.setState({touchDown:!0})),!a&&(null===t.touchMovePositive&&(t.touchMovePositive=n>0),!t.expandable||s||l&&t.touchMovePositive&&0===t.touchStartContentScrollTop||r.target.closest(".ModalPage__header"))){if(r.preventDefault(),!i&&n<0)return;!this.state.dragging&&this.setState({dragging:!0});var c=n/this.window.innerHeight*100,u=Ye(c,72,.8,this.props.platform===Se);t.touchShiftYPercent=c,t.translateYCurrent=Ut(t.translateY+u),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}else r.target.closest(".ModalPage")&&r.preventDefault()}},{key:"onCardTouchMove",value:function(e,t){var n=e.originalEvent,o=e.shiftY,r=e.startT;if(n.target.closest(".ModalCard__container")){this.state.touchDown||(t.touchStartTime=r,this.setState({touchDown:!0,dragging:!0}));var i=o/t.innerElement.offsetHeight*100,a=Ye(i,72,1.2,this.props.platform===Se);t.touchShiftYPercent=i,t.translateYCurrent=Math.max(0,t.translateY+a),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onPageTouchEnd",value:function(e,t){var n,o=this,r=e.startY,i=e.shiftY;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging){var a=(r+i)/this.window.innerHeight*100,s=t.translateYCurrent;100!==(s=Xt(s=Ut(s+s/(Date.now()-t.touchStartTime)*240*.6*(t.touchShiftYPercent<0?-1:1)),t.expandedRange)?t.expandedRange[0]:Xt(s,t.collapsedRange)?t.translateYFrom:Xt(s,t.hiddenRange)?100:t.translateYFrom)&&a>=75&&(s=100),t.translateY=s,t.translateYCurrent=s,t.collapsed=s>0&&s<a,t.expanded=0===s,t.hidden=100===s,t.hidden&&this.doCloseModal(t),n=function(){!t.hidden&&o.animateTranslate(t),o.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"onCardTouchEnd",value:function(e){var t,n=this;if(this.state.dragging){var o=e.translateYCurrent,r=o/(Date.now()-e.touchStartTime)*240*.6*(e.touchShiftYPercent<0?-1:1);o=(o=Math.max(0,o+r))>=30?100:0,e.translateY=o,e.hidden=100===o,e.hidden&&this.doCloseModal(e),t=function(){!e.hidden&&n.animateTranslate(e),n.setMaskOpacity(e)}}this.setState({touchDown:!1,dragging:!1},t)}},{key:"waitTransitionFinish",value:function(e,t){var n=Ae.transitionEndEventName;e.innerElement.addEventListener(n,(function o(){e.innerElement.removeEventListener(n,o),t()}))}},{key:"switchPrevNext",value:function(){var e=this,t=this.state,n=t.prevModal,o=t.nextModal,r=this.modalsState[n],i=this.modalsState[o];if(!r&&!i)return console.warn("[ModalRoot.switchPrevNext] prevModal is ".concat(n,", nextModal is ").concat(o));var a=!!r&&r.type===$t,s=!!r&&"modal-card"===r.type,l=!!i&&i.type===$t,c=!!i&&"modal-card"===i.type;if(r&&(c||s&&l))return this.waitTransitionFinish(r,(function(){e.activeTransitions+=1,e.waitTransitionFinish(i,e.prevNextSwitchEndHandler),e.animateTranslate(i)})),this.animateTranslate(r,100);r&&l&&(this.activeTransitions+=1,this.waitTransitionFinish(r,this.prevNextSwitchEndHandler),a&&r.translateY<=i.translateYFrom&&!this.state.isBack?this.animateTranslate(r,i.translateYFrom+10):this.animateTranslate(r,100)),this.activeTransitions+=1,this.waitTransitionFinish(i,this.prevNextSwitchEndHandler),this.animateTranslate(i)}},{key:"animateTranslate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=e.translateY);var n="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this[n]),this[n]=requestAnimationFrame((function(){if(Yt(e.innerElement,"translateY(".concat(t,"%)")),e.type===$t&&e.footerElement){var n=e.footerElement.offsetHeight,o=e.innerElement.offsetHeight*(t/100);Yt(e.footerElement,"translateY(calc(".concat(n,"px * -").concat(o/n,"))"))}})),e.type===$t&&e.expandable&&this.animatePageHeader(e,t)}},{key:"animatePageHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=e.translateY);var n=t<15?Math.max(0,15-t)/15:0;requestAnimationFrame((function(){var t=e.headerElement.querySelector(".ModalPageHeader__shadow");t&&(t.style.opacity=n.toString())}))}},{key:"setMaskOpacity",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===n&&this.state.history[0]!==e.id||(cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(t.maskElementRef.current){var o=e.translateY,r=e.translateYCurrent,i=null===n?1-(r-o)/(100-o)||0:n;t.maskElementRef.current.style.opacity=Math.max(0,Math.min(100,i)).toString()}})))}},{key:"triggerActiveModalClose",value:function(){var e=this.modalsState[this.state.activeModal];e&&this.doCloseModal(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.prevModal,o=t.activeModal,r=t.nextModal,i=t.visibleModals,a=t.animated,s=t.touchDown,l=t.dragging,c=t.switching;return o||n||r||a?h.createElement(lt.Provider,{value:!0},h.createElement(Ft.Provider,{value:this.modalRootContext},h.createElement($e,{className:Pe(xe("ModalRoot",this.props.platform),{"ModalRoot--vkapps":"vkapps"===this.webviewType,"ModalRoot--touched":s,"ModalRoot--switching":c}),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},h.createElement("div",{className:"ModalRoot__mask",onClick:this.onMaskClick,ref:this.maskElementRef}),h.createElement("div",{className:"ModalRoot__viewport"},this.modals.map((function(t){var a=t.props.id;if(!i.includes(t.props.id))return null;var s=Kt({},e.modalsState[a]),c=s.type===$t,u="modal-".concat(a);return h.createElement("div",{key:u,id:u,className:Pe("ModalRoot__modal",{"ModalRoot__modal--active":a===o,"ModalRoot__modal--prev":a===n,"ModalRoot__modal--next":a===r,"ModalRoot__modal--dragging":l,"ModalRoot__modal--expandable":c&&s.expandable,"ModalRoot__modal--expanded":c&&s.expanded,"ModalRoot__modal--collapsed":c&&s.collapsed})},t)})))))):null}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"webviewType",get:function(){return this.context.webviewType||yt.VKAPPS}},{key:"modals",get:function(){return[].concat(this.props.children)}}]),l}(e.Component);s(zt,"contextTypes",{window:ae.any,document:ae.any,webviewType:ae.oneOf([yt.VKAPPS,yt.INTERNAL])});var Gt=Be(zt),Jt=function(e){var t=st(),n=e.className,o=e.left,r=e.right,i=e.children,a=e.noShadow,s=e.getRef,l="string"==typeof i||"number"==typeof i;return h.createElement("div",{className:Pe(xe("ModalPageHeader",t),n),ref:s},h.createElement("div",{className:"ModalPageHeader__in"},h.createElement("div",{className:"ModalPageHeader__left"},o),h.createElement("div",{className:"ModalPageHeader__content"},h.createElement("div",{className:"ModalPageHeader__content-in"},l?h.createElement("span",null,i):i)),h.createElement("div",{className:"ModalPageHeader__right"},r)),!a&&h.createElement("div",{className:"ModalPageHeader__shadow"}))},Qt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(Tt),r=a(Nt),i=a(Bt);function a(e){return e&&e.__esModule?e:{default:e}}var s="dismiss_24";if(r.default){var l=new o.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="dismiss_24"><g fill="currentColor" fill-rule="nonzero"><circle opacity=".12" cx="12" cy="12" r="12" /><path d="M12 10.727l3.464-3.463a.9.9 0 1 1 1.272 1.272L13.273 12l3.463 3.464a.9.9 0 1 1-1.272 1.272L12 13.273l-3.464 3.463a.9.9 0 1 1-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 0 1 1.272-1.272L12 10.727z" /></g></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,jt({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};t.default=c}))),Zt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(Tt),r=a(Nt),i=a(Bt);function a(e){return e&&e.__esModule?e:{default:e}}var s="cancel_24";if(r.default){var l=new o.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cancel_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.3 5.7a.99.99 0 0 0-1.4 0L12 10.6 7.1 5.7a.99.99 0 0 0-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 0 0 1.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 0 0 1.4-1.4L13.4 12l4.9-4.9a.99.99 0 0 0 0-1.4z" fill="currentColor" /></g></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,jt({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};t.default=c}))),en=function(e){function i(e){var n;return t(this,i),n=o(this,r(i).call(this,e)),be&&n.setScheme(e.scheme),n}return a(i,e),n(i,[{key:"mapOldScheme",value:function(e){switch(e){case vt.DEPRECATED_CLIENT_LIGHT:return vt.BRIGHT_LIGHT;case vt.DEPRECATED_CLIENT_DARK:return vt.SPACE_GRAY;default:return e}}},{key:"setScheme",value:function(e){document.body.setAttribute("scheme",e)}},{key:"componentDidUpdate",value:function(e){e.scheme!==this.props.scheme&&this.setScheme(this.mapOldScheme(this.props.scheme))}},{key:"getChildContext",value:function(){return{isWebView:this.props.isWebView,webviewType:this.props.webviewType,scheme:this.mapOldScheme(this.props.scheme),appearance:this.props.appearance,app:this.props.app}}},{key:"render",value:function(){return h.createElement(bt.Provider,{value:this.getChildContext()},this.props.children)}}]),i}(h.Component);s(en,"defaultProps",{webviewType:yt.VKAPPS,isWebView:ge.isWebView(),scheme:vt.BRIGHT_LIGHT,appearance:mt.LIGHT}),s(en,"childContextTypes",{isWebView:ae.bool,scheme:ae.oneOf([vt.SPACE_GRAY,vt.BRIGHT_LIGHT,vt.DEPRECATED_CLIENT_DARK,vt.DEPRECATED_CLIENT_LIGHT]),webviewType:ae.oneOf([yt.VKAPPS,yt.INTERNAL]),appearance:ae.oneOf([mt.DARK,mt.LIGHT]),app:ae.string});process.env.VKUI_VERSION;class tn extends h.Component{constructor(e){super(e),this.state={activePage:e.activePage,activeModal:null,modalHistory:[],modalParams:{},pageParams:{}},this.goPage=this.goPage.bind(this),this.showModal=this.showModal.bind(this),this.hideModal=this.hideModal.bind(this),this.navigatorObject={goPage:this.goPage,showModal:this.showModal,hideModal:window.history.back.bind(window.history)}}goPage(e,t={}){ge.send("VKWebAppDisableSwipeBack",{}),this.setState({activePage:e,pageParams:t})}showModal(e,t={}){const{modalHistory:n}=this.state;this.setState({activeModal:e,modalHistory:-1!==n.indexOf(e)?n.splice(0,n.indexOf(e)+1):[...n,e],modalParams:t})}hideModal(){this.setState({activeModal:null,modalHistory:[]})}__buildModals(){const e=this.props.modals||[];if(0===e.length)return null;const{activeModal:t,modalParams:n}=this.state,{navigatorObject:o}=this,{platform:r}=this.props;return h.createElement(Gt,{activeModal:t,children:h.Children.map(e,e=>h.cloneElement(e,{...e.props,onClose:window.history.back.bind(window.history),header:h.createElement(Jt,{left:r===Se&&h.createElement(gt,{onClick:window.history.back.bind(window.history),children:h.createElement(Zt,null)}),right:r===ke&&h.createElement(gt,{onClick:window.history.back.bind(window.history),children:h.createElement(Qt,null)}),children:e.props.title||""}),navigator:{...o,params:e.props.id===t?n:{}}}))})}render(){const{activePage:e,activeModal:t,pageParams:n}=this.state,{showModal:o,hideModal:r,goPage:i}=this,{children:a,modal:s,disabledConfigProvider:l,webviewType:c,scheme:u}=this.props,p=this.__buildModals(s),d=h.createElement(We,{activeView:e,modal:p},h.Children.map(a,e=>h.cloneElement(e,{id:e.props.id,showModal:o,hideModal:r,goPage:i,isModalOpen:null!==t,pageParams:n})));return l?d:h.createElement(en,{webviewType:c,isWebView:!0,scheme:u},d)}}tn.propTypes={activePage:ae.string.isRequired,scheme:ae.string.isRequired},tn.defaultProps={scheme:"bright_light"};var nn=Be(tn);class on extends h.Component{constructor(e){super(e),this.state={activePanel:e.activePanel,homePanel:e.activePanel,history:[e.activePanel],popout:null,params:{},header:e.header},this.go=this.go.bind(this),this.goPage=this.props.goPage,this.popBack=this.popBack.bind(this),this.showModal=this.showModal.bind(this),this.hideModal=this.hideModal.bind(this),this.showPopout=this.showPopout.bind(this),this.showLoader=this.showLoader.bind(this),this.hideLoader=this.hideLoader.bind(this),this.showDialog=this.showDialog.bind(this),this.showAlert=this.showAlert.bind(this),this.headerVisible=this.headerVisible.bind(this),this.navigatorObject={go:this.go,goPage:this.goPage,goBack:window.history.back.bind(window.history),showModal:this.showModal,hideModal:()=>window.history.back,showPopout:this.showPopout,showLoader:this.showLoader,hideLoader:this.hideLoader,showDialog:this.showDialog,showAlert:this.showAlert,headerVisible:this.headerVisible}}go(e,t={}){const{activePanel:n,homePanel:o,history:r}=this.state;n===o&&ge.send("VKWebAppEnableSwipeBack",{}),window.history.pushState({panel:e,modal:null},e),this.setState({activePanel:e,history:[...r,e],popout:null,params:t})}popBack(){const{history:e,popout:t,homePanel:n}=this.state,{isModalOpen:o}=this.props,{hideModal:r}=this;if(null!==t)return void this.setState({popout:null});if(o)return void r();if(1===e.length)return null;const i=e[e.length-2];i===n&&ge.send("VKWebAppDisableSwipeBack",{}),this.setState({activePanel:i,history:e.slice(0,e.length-1),popout:null,activeModal:null,modalHistory:[],modalParams:{}})}showPopout(e){this.setState({popout:e})}showLoader(){this.showPopout(h.createElement(It,null))}hideLoader(){this.showPopout(null)}showDialog({title:e,description:t,buttonText:n,action:o}){this.showPopout(h.createElement(xt,{actionsLayout:"vertical",actions:[{title:n||"",action:o,style:"destructive"},{title:"",autoclose:!0,style:"cancel"}],onClose:()=>this.showPopout(null)},h.createElement("h2",null,e),h.createElement("p",null,t)))}showAlert({title:e,description:t}){this.showPopout(h.createElement(xt,{actions:[{title:"",autoclose:!0,style:"cancel"}],onClose:()=>this.showPopout(null)},h.createElement("h2",null,e),h.createElement("p",null,t)))}showModal(e,t={}){const{showModal:n}=this.props,{activePanel:o}=this.state;ge.send("VKWebAppDisableSwipeBack",{}),window.history.pushState({panel:o,modal:e},o),n(e,t)}hideModal(){const{hideModal:e}=this.props,{activePanel:t,homePanel:n}=this.state;t!==n&&ge.send("VKWebAppEnableSwipeBack",{}),e()}headerVisible(e){this.setState({header:e})}componentDidMount(){const{homePanel:e}=this.state;ge.send("VKWebAppDisableSwipeBack",{}),window.addEventListener("popstate",this.popBack),window.history.replaceState({panel:e},e)}componentWillUnmount(){const{history:e}=this.state;window.removeEventListener("popstate",this.popBack);for(let t=0;t<e.length-1;t++)window.history.back()}render(){const{id:e,children:t,pageParams:n}=this.props,{activePanel:o,history:r,popout:i,params:a,header:s}=this.state,{navigatorObject:l}=this;return h.createElement(nt,{id:e,activePanel:o,history:r,popout:i,header:s,onSwipeBack:window.history.back.bind(window.history)},h.Children.map(t,e=>h.cloneElement(e,{id:e.props.id,navigator:{...l,params:e.props.id===o?{...a,pageParams:n}:{}}})))}}on.propTypes={id:ae.string.isRequired,activePanel:ae.string.isRequired,children:ae.any,header:ae.bool},ae.defaultProps={children:[]};class rn extends h.Component{constructor(e){super(e),this.state={activeStory:e.activeStory},this.__buildBar=this.__buildBar.bind(this),this.goStory=this.goStory.bind(this)}goStory(e){this.setState({activeStory:e.currentTarget.dataset.story})}__buildBar(e){const{goStory:t}=this,{activeStory:n}=this.state;return h.createElement(St,null,h.Children.map(e,(e,o)=>h.createElement(kt,{key:o,onClick:t,selected:n===e.props.id,"data-story":e.props.id,text:e.props.title||"",children:e.props.icon||null,label:e.props.label||""})))}render(){const{id:e,children:t,showModal:n,hideModal:o,goPage:r,isModalOpen:i,pageParams:a}=this.props,{activeStory:s}=this.state,{__buildBar:l}=this;return h.createElement(Pt,{id:e,activeStory:s,tabbar:l(t)},h.Children.map(t,e=>h.cloneElement(e,{...e.props,goPage:r,showModal:n,hideModal:o,isModalOpen:i,pageParams:a})))}}return{Stack:nn,Page:on,Tabbar:rn}}));
