!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("@babel/runtime/helpers/classCallCheck"),require("@babel/runtime/helpers/createClass"),require("@babel/runtime/helpers/possibleConstructorReturn"),require("@babel/runtime/helpers/getPrototypeOf"),require("@babel/runtime/helpers/assertThisInitialized"),require("@babel/runtime/helpers/inherits"),require("@babel/runtime/helpers/defineProperty"),require("@babel/runtime/helpers/typeof"),require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/objectWithoutProperties"),require("@babel/runtime/helpers/slicedToArray"),require("react-dom"),require("@babel/runtime/helpers/toConsumableArray")):"function"==typeof define&&define.amd?define(["react","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass","@babel/runtime/helpers/possibleConstructorReturn","@babel/runtime/helpers/getPrototypeOf","@babel/runtime/helpers/assertThisInitialized","@babel/runtime/helpers/inherits","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/typeof","@babel/runtime/helpers/extends","@babel/runtime/helpers/objectWithoutProperties","@babel/runtime/helpers/slicedToArray","react-dom","@babel/runtime/helpers/toConsumableArray"],t):(e=e||self).app=t(e.React,e._classCallCheck,e._createClass,e._possibleConstructorReturn,e._getPrototypeOf,e._assertThisInitialized,e._inherits,e._defineProperty,e._typeof,e._extends,e._objectWithoutProperties,e._slicedToArray,e.ReactDOM,e._toConsumableArray)}(this,(function(e,t,n,o,r,i,a,s,l,c,u,d,p,f){"use strict";var h="default"in e?e.default:e;t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,o=o&&o.hasOwnProperty("default")?o.default:o,r=r&&r.hasOwnProperty("default")?r.default:r,i=i&&i.hasOwnProperty("default")?i.default:i,a=a&&a.hasOwnProperty("default")?a.default:a,s=s&&s.hasOwnProperty("default")?s.default:s,l=l&&l.hasOwnProperty("default")?l.default:l,c=c&&c.hasOwnProperty("default")?c.default:c,u=u&&u.hasOwnProperty("default")?u.default:u,d=d&&d.hasOwnProperty("default")?d.default:d,p=p&&p.hasOwnProperty("default")?p.default:p,f=f&&f.hasOwnProperty("default")?f.default:f;var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y(e,t){return e(t={exports:{}},t.exports),t.exports}var w=y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,g=n?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case d:case i:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case v:case m:case l:return e;default:return t}}case r:return t}}}function P(e){return b(e)===d}t.typeOf=b,t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=i,t.Lazy=v,t.Memo=m,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===w||e.$$typeof===g)},t.isAsyncMode=function(e){return P(e)||b(e)===u},t.isConcurrentMode=P,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===i},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===f}}));v(w);w.typeOf,w.AsyncMode,w.ConcurrentMode,w.ContextConsumer,w.ContextProvider,w.Element,w.ForwardRef,w.Fragment,w.Lazy,w.Memo,w.Portal,w.Profiler,w.StrictMode,w.Suspense,w.isValidElementType,w.isAsyncMode,w.isConcurrentMode,w.isContextConsumer,w.isContextProvider,w.isElement,w.isForwardRef,w.isFragment,w.isLazy,w.isMemo,w.isPortal,w.isProfiler,w.isStrictMode,w.isSuspense;var g=y((function(e,t){"production"!==process.env.NODE_ENV&&function(){Object.defineProperty(t,"__esModule",{value:!0});var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,o=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;var g=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=0,i="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}},b=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];g.apply(void 0,[t].concat(o))}};function P(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var f=e.type;switch(f){case c:case u:case r:case a:case i:case p:return f;default:var v=f&&f.$$typeof;switch(v){case l:case d:case m:case h:case s:return v;default:return t}}case o:return t}}}var E=c,S=u,k=l,O=s,_=n,M=d,x=r,C=m,T=h,j=o,N=a,A=i,B=p,V=!1;function R(e){return P(e)===u}t.typeOf=P,t.AsyncMode=E,t.ConcurrentMode=S,t.ContextConsumer=k,t.ContextProvider=O,t.Element=_,t.ForwardRef=M,t.Fragment=x,t.Lazy=C,t.Memo=T,t.Portal=j,t.Profiler=N,t.StrictMode=A,t.Suspense=B,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===i||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===w)},t.isAsyncMode=function(e){return V||(V=!0,b(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),R(e)||P(e)===c},t.isConcurrentMode=R,t.isContextConsumer=function(e){return P(e)===l},t.isContextProvider=function(e){return P(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return P(e)===d},t.isFragment=function(e){return P(e)===r},t.isLazy=function(e){return P(e)===m},t.isMemo=function(e){return P(e)===h},t.isPortal=function(e){return P(e)===o},t.isProfiler=function(e){return P(e)===a},t.isStrictMode=function(e){return P(e)===i},t.isSuspense=function(e){return P(e)===p}}()}));v(g);g.typeOf,g.AsyncMode,g.ConcurrentMode,g.ContextConsumer,g.ContextProvider,g.Element,g.ForwardRef,g.Fragment,g.Lazy,g.Memo,g.Portal,g.Profiler,g.StrictMode,g.Suspense,g.isValidElementType,g.isAsyncMode,g.isConcurrentMode,g.isContextConsumer,g.isContextProvider,g.isElement,g.isForwardRef,g.isFragment,g.isLazy,g.isMemo,g.isPortal,g.isProfiler,g.isStrictMode,g.isSuspense;var b=y((function(e){"production"===process.env.NODE_ENV?e.exports=w:e.exports=g})),P=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;function k(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var O=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,r=k(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))E.call(n,a)&&(r[a]=n[a]);if(P){o=P(n);for(var s=0;s<o.length;s++)S.call(n,o[s])&&(r[o[s]]=n[o[s]])}}return r},_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M=function(){};if("production"!==process.env.NODE_ENV){var x=_,C={},T=Function.call.bind(Object.prototype.hasOwnProperty);M=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function j(e,t,n,o,r){if("production"!==process.env.NODE_ENV)for(var i in e)if(T(e,i)){var a;try{if("function"!=typeof e[i]){var s=Error((o||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw s.name="Invariant Violation",s}a=e[i](t,i,o,n,null,x)}catch(e){a=e}if(!a||a instanceof Error||M((o||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in C)){C[a.message]=!0;var l=r?r():"";M("Failed "+n+" type: "+a.message+(null!=l?l:""))}}}j.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(C={})};var N=j,A=Function.call.bind(Object.prototype.hasOwnProperty),B=function(){};function V(){return null}"production"!==process.env.NODE_ENV&&(B=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});var R=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var o={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:a(V),arrayOf:function(e){return a((function(t,n,o,r,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new i("Invalid "+r+" `"+a+"` of type `"+c(s)+"` supplied to `"+o+"`, expected an array.");for(var l=0;l<s.length;l++){var u=e(s,l,o,r,a+"["+l+"]",_);if(u instanceof Error)return u}return null}))},element:a((function(t,n,o,r,a){var s=t[n];return e(s)?null:new i("Invalid "+r+" `"+a+"` of type `"+c(s)+"` supplied to `"+o+"`, expected a single ReactElement.")})),elementType:a((function(e,t,n,o,r){var a=e[t];return b.isValidElementType(a)?null:new i("Invalid "+o+" `"+r+"` of type `"+c(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return a((function(t,n,o,r,a){if(!(t[n]instanceof e)){var s=e.name||"<<anonymous>>";return new i("Invalid "+r+" `"+a+"` of type `"+function(e){if(!e.constructor||!e.constructor.name)return"<<anonymous>>";return e.constructor.name}(t[n])+"` supplied to `"+o+"`, expected instance of `"+s+"`.")}return null}))},node:a((function(e,t,n,o,r){return l(e[t])?null:new i("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return a((function(t,n,o,r,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],l=c(s);if("object"!==l)return new i("Invalid "+r+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected an object.");for(var u in s)if(A(s,u)){var d=e(s,u,o,r,a+"."+u,_);if(d instanceof Error)return d}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&(arguments.length>1?B("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):B("Invalid argument supplied to oneOf, expected an array.")),V;function t(t,n,o,a,s){for(var l=t[n],c=0;c<e.length;c++)if(r(l,e[c]))return null;var d=JSON.stringify(e,(function(e,t){return"symbol"===u(t)?String(t):t}));return new i("Invalid "+a+" `"+s+"` of value `"+String(l)+"` supplied to `"+o+"`, expected one of "+d+".")}return a(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&B("Invalid argument supplied to oneOfType, expected an instance of array."),V;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return B("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+d(n)+" at index "+t+"."),V}return a((function(t,n,o,r,a){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,o,r,a,_))return null}return new i("Invalid "+r+" `"+a+"` supplied to `"+o+"`.")}))},shape:function(e){return a((function(t,n,o,r,a){var s=t[n],l=c(s);if("object"!==l)return new i("Invalid "+r+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");for(var u in e){var d=e[u];if(d){var p=d(s,u,o,r,a+"."+u,_);if(p)return p}}return null}))},exact:function(e){return a((function(t,n,o,r,a){var s=t[n],l=c(s);if("object"!==l)return new i("Invalid "+r+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");var u=O({},t[n],e);for(var d in u){var p=e[d];if(!p)return new i("Invalid "+r+" `"+a+"` key `"+d+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=p(s,d,o,r,a+"."+d,_);if(f)return f}return null}))}};function r(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function i(e){this.message=e,this.stack=""}function a(e){if("production"!==process.env.NODE_ENV)var n={},o=0;function r(r,a,s,l,c,u,d){if(l=l||"<<anonymous>>",u=u||s,d!==_){if(t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var f=l+":"+s;!n[f]&&o<3&&(B("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[f]=!0,o++)}}return null==a[s]?r?null===a[s]?new i("The "+c+" `"+u+"` is marked as required in `"+l+"`, but its value is `null`."):new i("The "+c+" `"+u+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:e(a,s,l,c,u)}var a=r.bind(null,!1);return a.isRequired=r.bind(null,!0),a}function s(e){return a((function(t,n,o,r,a,s){var l=t[n];return c(l)!==e?new i("Invalid "+r+" `"+a+"` of type `"+u(l)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function l(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(l);if(null===t||e(t))return!0;var o=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!o)return!1;var r,i=o.call(t);if(o!==t.entries){for(;!(r=i.next()).done;)if(!l(r.value))return!1}else for(;!(r=i.next()).done;){var a=r.value;if(a&&!l(a[1]))return!1}return!0;default:return!1}}function c(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function u(e){if(null==e)return""+e;var t=c(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function d(e){var t=u(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return i.prototype=Error.prototype,o.checkPropTypes=N,o.resetWarningCache=N.resetWarningCache,o.PropTypes=o,o};function D(){}function W(){}W.resetWarningCache=D;var H=y((function(e){if("production"!==process.env.NODE_ENV){var t=b;e.exports=R(t.isElement,!0)}else e.exports=function(){function e(e,t,n,o,r,i){if(i!==_){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:W,resetWarningCache:D};return n.PropTypes=n,n}()})),L=function(){return(L=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function F(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o}function Y(e,t){var n,o,r=(n={current:0,next:function(){return++this.current}},o={},{add:function(e){var t=n.next();return o[t]=e,t},resolve:function(e,t,n){var r=o[e];r&&(n(t)?r.resolve(t):r.reject(t),o[e]=null)}});return t((function(e){if(e.detail&&e.detail.data){var t=e.detail.data,n=t.request_id,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["request_id"]);n&&r.resolve(n,o,(function(e){return!("error_type"in e)}))}})),function(t,n){return void 0===n&&(n={}),new Promise((function(o,i){var a=null==n.request_id?r.add({resolve:o,reject:i}):n.request_id;e(t,L(L({},n),{request_id:a}))}))}}var I="undefined"!=typeof window,q=Boolean(I&&window.AndroidBridge),$=Boolean(I&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),X=!q&&!$,K=X?"message":"VKWebAppEvent",z=["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGeodata","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppResizeWindow","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowCommunityWidgetPreviewBox"],U=I?window.AndroidBridge:void 0,G=$?window.webkit.messageHandlers:void 0;"undefined"==typeof window||window.CustomEvent||(window.CustomEvent=function(){function e(e,t){var n=t||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),o}return e.prototype=Event.prototype,e}());var J=function(e){var t=void 0,n=[];function o(e){n.push(e)}"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(K,(function(e){if($||q)return F(n).map((function(t){return t.call(null,e)}));if(X&&e&&e.data){var o=e.data,r=o.type,i=o.data,a=o.frameId;r&&"VKWebAppSettings"===r?t=a:F(n).map((function(e){return e({detail:{type:r,data:i}})}))}}));var r=Y((function(n,o){U&&U[n]?U[n](JSON.stringify(o)):G&&G[n]&&"function"==typeof G[n].postMessage?G[n].postMessage(o):X&&parent.postMessage({handler:n,params:o,type:"vk-connect",webFrameId:t,connectVersion:e},"*")}),o);return{send:r,sendPromise:r,subscribe:o,unsubscribe:function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},supports:function(e){return q?!(!U||"function"!=typeof U[e]):$?!(!G||!G[e]||"function"!=typeof G[e].postMessage):!!X&&z.indexOf(e)>-1},isWebView:function(){return $||q}}}("1.9.0");"undefined"!=typeof module&&module.exports&&(module.exports=L({},J),module.exports.default=L({},J),module.exports.applyMiddleware=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.includes(void 0)||t.includes(null)?e.apply(void 0,t.filter((function(e){return"function"==typeof e}))):function(e){if(0===t.length)return e;var n,o={subscribe:e.subscribe,send:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.send.apply(e,t)}};return n=t.filter((function(e){return"function"==typeof e})).map((function(e){return e(o)})).reduce((function(e,t){return function(n){return e(t(n))}}))(e.send),L(L({},e),{send:n})}});var Q,Z=!("undefined"==typeof window||!window.document||!window.document.createElement);if(Z){var ee=Element.prototype;ee.matches||(ee.matches=ee.matchesSelector||ee.webkitMatchesSelector||ee.mozMatchesSelector||ee.msMatchesSelector),ee.closest||(ee.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}function te(){for(var e=[],t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){if(t)switch(l(t)){case"string":e.push(t);break;case"object":Object.keys(t).forEach((function(n){t[n]&&e.push(n)}));break;default:e.push("".concat(t))}})),e.join(" ")}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var r,i,a=0|t,s=Math.max(a>=0?a:o-Math.abs(a),0);for(;s<o;){if((r=n[s])===(i=e)||"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))return!0;s++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,o=arguments[1],r=0;r<n;r++){var i=t[r];if(e.call(o,i,r,t))return i}}}),function(e){e.ANDROID="android",e.IOS="ios"}(Q||(Q={}));var ne=Q.ANDROID,oe=Q.IOS;function re(e){var t=e||Z&&navigator.userAgent||"";return/android/i.test(t)?ne:oe}var ie,ae,se=re()===ne;function le(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re();return te(e,(s(t={},e+"--ios",n===Q.IOS),s(t,e+"--android",n===Q.ANDROID),t))}if("undefined"!=typeof document&&document.createElement){var ce=document.createElement("div");for(var ue in ce.style)if(ce.style.hasOwnProperty(ue)){var de=ue.match(/^(moz|webkit|ms|)(transition|animation)$/i);de&&(ie=!0),de&&de[1]&&(ae=de[1].toLowerCase())}}var pe={supported:ie,prefix:ae,transitionEndEventName:ae?ae+"TransitionEnd":"transitionend",animationEndEventName:ae?ae+"AnimationEnd":"animationend"},fe=h.createContext({platform:null});function he(e){return function(t){var n=h.useContext(fe);return h.createElement(e,c({},t,{platform:n.platform||re()}))}}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"onAnimationEnd",(function(e){if(!e||["root-android-animation-hide-back","root-android-animation-show-forward","root-ios-animation-hide-back","root-ios-animation-show-forward"].includes(e.animationName)){var t=n.state.isBack,o=n.state.prevView,r=n.state.nextView;n.setState({activeView:r,prevView:null,nextView:null,visibleViews:[r],transition:!1,isBack:void 0},(function(){n.window.scrollTo(0,t?n.state.scrolls[n.state.activeView]:0),n.props.onTransition&&n.props.onTransition({isBack:t,from:o,to:r})}))}})),n.state={activeView:e.activeView,prevView:null,nextView:null,visibleViews:[e.activeView],isBack:void 0,scrolls:{},transition:!1},n}return a(l,e),n(l,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.popout&&!e.popout&&this.blurActiveElement(),this.props.activeView!==e.activeView){var o=this.window.pageYOffset,r=[].concat(e.children).find((function(t){return t.props.id===e.activeView||t.props.id===n.props.activeView})).props.id===this.props.activeView;this.blurActiveElement();var i=this.props.activeView,a=e.activeView;this.setState({scrolls:ve({},this.state.scrolls,s({},e.activeView,o)),transition:!0,activeView:null,nextView:i,prevView:a,visibleViews:[i,a],isBack:r})}if(!t.transition&&this.state.transition){var l=this.document.getElementById("view-".concat(this.state.prevView)),c=this.document.getElementById("view-".concat(this.state.nextView));l.querySelector(".View__panel").scrollTop=this.state.scrolls[this.state.prevView],this.state.isBack&&(c.querySelector(".View__panel").scrollTop=this.state.scrolls[this.state.nextView]),this.waitAnimationFinish(this.state.isBack?l:c,this.onAnimationEnd)}}},{key:"waitAnimationFinish",value:function(e,t){if(pe.supported){var n=pe.prefix?pe.prefix+"AnimationEnd":"animationend";e.removeEventListener(n,t),e.addEventListener(n,t)}else setTimeout(t.bind(this),this.props.platform===ne?300:600)}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement&&this.document.activeElement.blur()}},{key:"render",value:function(){var e=this,t=this.props,n=t.popout,o=t.modal,r=t.platform,i=this.state,a=i.transition,s=i.isBack,l=i.prevView,c=i.activeView,u=i.nextView,d=this.arrayChildren.filter((function(t){return e.state.visibleViews.includes(t.props.id)})),p=le("Root",r);return h.createElement("div",{className:te(p,this.props.className,{"Root--transition":a})},d.map((function(e){return h.createElement("div",{key:e.props.id,id:"view-".concat(e.props.id),className:te("Root__view",{"Root__view--hide-back":e.props.id===l&&s,"Root__view--hide-forward":e.props.id===l&&!s,"Root__view--show-back":e.props.id===u&&s,"Root__view--show-forward":e.props.id===u&&!s,"Root__view--active":e.props.id===c})},e)})),!!n&&h.createElement("div",{className:"Root__popout"},n),!!o&&h.createElement("div",{className:"Root__modal"},o))}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"arrayChildren",get:function(){return[].concat(this.props.children)}}]),l}(e.Component);s(ye,"defaultProps",{popout:null}),s(ye,"contextTypes",{window:H.any,document:H.any});var we=he(ye);var ge=function(e){return e.clientX||e.touches&&e.touches[0].clientX},be=function(e){return e.clientY||e.touches&&e.touches[0].clientY},Pe="undefined"!=typeof window&&"ontouchstart"in window;function Ee(e,t,n,o){if(o||e<0)return e;var r=n*Math.abs(e)*t/(t+n*Math.abs(e));return e<0?-r:r}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=Pe?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"],_e=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"cancelClick",void 0),s(i(n),"gesture",{}),s(i(n),"container",void 0),s(i(n),"onStart",(function(e){n.gesture={startX:ge(e),startY:be(e),startT:new Date,isPressed:!0};var t=ke({},n.gesture,{originalEvent:e});n.props.onStart&&n.props.onStart(t),n.props.onStartX&&n.props.onStartX(t),n.props.onStartY&&n.props.onStartY(t),!Pe&&n.subscribe(n.document)})),s(i(n),"onMove",(function(e){var t=n.gesture,o=t.isPressed,r=t.isX,i=t.isY,a=t.startX,s=t.startY;if(o){var l=ge(e)-a,c=be(e)-s,u=Math.abs(l),d=Math.abs(c);if(e.touches&&e.touches.length>1)return n.onEnd(e);if(!r&&!i){var p=u>=5&&u>d,f=d>=5&&d>u,h=p&&!!n.props.onMoveX||!!n.props.onMove,m=f&&!!n.props.onMoveY||!!n.props.onMove;n.gesture.isY=f,n.gesture.isX=p,n.gesture.isSlideX=h,n.gesture.isSlideY=m,n.gesture.isSlide=h||m}if(n.gesture.isSlide){n.gesture.shiftX=l,n.gesture.shiftY=c,n.gesture.shiftXAbs=u,n.gesture.shiftYAbs=d;var v=ke({},n.gesture,{originalEvent:e});n.props.onMove&&n.props.onMove(v),n.gesture.isSlideX&&n.props.onMoveX&&n.props.onMoveX(v),n.gesture.isSlideY&&n.props.onMoveY&&n.props.onMoveY(v)}}})),s(i(n),"onEnd",(function(e){var t=n.gesture,o=t.isPressed,r=t.isSlide,i=t.isSlideX,a=t.isSlideY;if(o){var s=ke({},n.gesture,{originalEvent:e});n.props.onEnd&&n.props.onEnd(s),a&&n.props.onEndY&&n.props.onEndY(s),i&&n.props.onEndX&&n.props.onEndX(s)}var l=e.target;n.cancelClick="A"===l.tagName&&r,n.gesture={},!Pe&&n.unsubscribe(n.document)})),s(i(n),"onDragStart",(function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()})),s(i(n),"onClick",(function(e){n.cancelClick&&(n.cancelClick=!1,e.preventDefault()),n.props.onClick&&n.props.onClick(e)})),s(i(n),"getRef",(function(e){n.container=e;var t=n.props.getRootRef;t&&("function"==typeof t?t(e):t.current=e)})),n.cancelClick=!1,n}return a(l,e),n(l,[{key:"componentDidMount",value:function(){Z&&(this.container.addEventListener(Oe[0],this.onStart,{capture:this.props.useCapture,passive:!1}),Pe&&this.subscribe(this.container))}},{key:"componentWillUnmount",value:function(){this.container.removeEventListener(Oe[0],this.onStart),Pe&&this.unsubscribe(this.container)}},{key:"subscribe",value:function(e){var t={capture:this.props.useCapture,passive:!1};e.addEventListener(Oe[1],this.onMove,t),e.addEventListener(Oe[2],this.onEnd,t),e.addEventListener(Oe[3],this.onEnd,t)}},{key:"unsubscribe",value:function(e){var t={capture:this.props.useCapture,passive:!1};e.removeEventListener(Oe[1],this.onMove,t),e.removeEventListener(Oe[2],this.onEnd,t),e.removeEventListener(Oe[3],this.onEnd,t)}},{key:"render",value:function(){var e=this.props,t=(e.onStart,e.onStartX,e.onStartY,e.onMove,e.onMoveX,e.onMoveY,e.onEnd,e.onEndX,e.onEndY,e.useCapture,e.Component),n=(e.getRootRef,u(e,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onEnd","onEndX","onEndY","useCapture","Component","getRootRef"]));return h.createElement(t,c({},n,{onDragStart:this.onDragStart,onClick:this.onClick,ref:this.getRef}),this.props.children)}},{key:"document",get:function(){return this.context.document||document}}]),l}(e.Component);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=xe({},e);return t.forEach((function(e){return delete n[e]})),n}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}s(_e,"defaultProps",{Component:"div",children:"",useCapture:!1}),s(_e,"contextTypes",{document:H.object});var Ne;!function(e){e[e.fail=1]="fail",e[e.success=2]="success"}(Ne||(Ne={}));var Ae={},Be=["input","textarea"],Ve=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"transitionEndHandler",(function(e){if(!e||["animation-ios-next-forward","animation-ios-prev-back","animation-android-next-forward","animation-android-prev-back"].includes(e.animationName)){var t=n.props.activePanel,o=n.state.isBack,r=n.state.prevPanel;n.document.dispatchEvent(new n.window.CustomEvent("VKUI:View:transition-end")),n.setState({prevPanel:null,nextPanel:null,visiblePanels:[t],activePanel:t,animated:!1,isBack:void 0,scrolls:o?Ce(n.state.scrolls,[r]):n.state.scrolls},(function(){o&&n.window.scrollTo(0,n.state.scrolls[t]),n.props.onTransition&&n.props.onTransition({isBack:o,from:r,to:t})}))}})),s(i(n),"swipingBackTransitionEndHandler",(function(e){var t=e.target;if(e.propertyName.includes("transform")&&t.classList.contains("View__panel--swipe-back-next"))switch(n.state.swipeBackResult){case Ne.fail:n.onSwipeBackCancel();break;case Ne.success:n.onSwipeBackSuccess()}})),s(i(n),"onScrollTop",(function(){if(n.state.activePanel){var e=n.document.body.scrollTop||n.document.documentElement.scrollTop;e&&function(e){var t=e.duration,n=e.timing,o=e.draw;if("undefined"!=typeof window){var r=window.performance.now();window.requestAnimationFrame((function e(i){var a=(i-r)/t;a>1&&(a=1);var s=n(a);o(s),a<1&&window.requestAnimationFrame(e)}))}}({duration:200,timing:function(e){return Math.sqrt(e)},draw:function(t){n.window.scrollTo(0,e-t*e)}})}})),s(i(n),"onMoveX",(function(e){if(!e.originalEvent.target||"string"!=typeof e.originalEvent.target.tagName||!Be.includes(e.originalEvent.target.tagName.toLowerCase())){var t=n.props.platform;if(t!==oe||n.context.isWebView||!(e.startX<=70||e.startX>=n.window.innerWidth-70)||n.state.browserSwipe||n.setState({browserSwipe:!0}),t===oe&&n.context.isWebView&&n.props.onSwipeBack){if(n.state.animated&&e.startX<=70)return;var o;if(e.startX<=70&&!n.state.swipingBack&&n.props.history.length>1&&n.setState({swipingBack:!0,swipebackStartX:e.startX,startT:e.startT,swipeBackPrevPanel:n.state.activePanel,swipeBackNextPanel:n.props.history.slice(-2)[0],scrolls:je({},n.state.scrolls,s({},n.state.activePanel,n.window.pageYOffset))}),n.state.swipingBack)o=e.shiftX<0?0:e.shiftX>n.window.innerWidth-n.state.swipebackStartX?n.window.innerWidth:e.shiftX,n.setState({swipeBackShift:o})}}})),s(i(n),"onEnd",(function(){if(n.state.swipingBack){var e=n.state.swipeBackShift/(Date.now()-n.state.startT)*1e3;0===n.state.swipeBackShift?n.onSwipeBackCancel():n.state.swipeBackShift>=n.window.innerWidth?n.onSwipeBackSuccess():e>250||n.state.swipebackStartX+n.state.swipeBackShift>n.window.innerWidth/2?n.setState({swipeBackResult:Ne.success}):n.setState({swipeBackResult:Ne.fail})}})),n.state={scrolls:Ae[e.id]||{},animated:!1,visiblePanels:[e.activePanel],activePanel:e.activePanel,isBack:void 0,prevPanel:null,nextPanel:null,swipingBack:!1,swipebackStartX:0,swipeBackShift:0,swipeBackNextPanel:null,swipeBackPrevPanel:null,swipeBackResult:null,browserSwipe:!1},n}return a(l,e),n(l,[{key:"componentWillUnmount",value:function(){this.props.id&&(Ae[this.props.id]=this.state.scrolls)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.popout&&!e.popout&&this.blurActiveElement(),this.props.modal&&!e.modal&&this.blurActiveElement(),e.activePanel!==this.props.activePanel&&!t.swipingBack&&!t.browserSwipe){var o=this.panels.find((function(t){return t.props.id===e.activePanel||t.props.id===n.props.activePanel})),r=o&&o.props.id===this.props.activePanel;this.blurActiveElement(),this.setState({visiblePanels:[e.activePanel,this.props.activePanel],prevPanel:e.activePanel,nextPanel:this.props.activePanel,activePanel:null,animated:!0,scrolls:je({},t.scrolls,s({},e.activePanel,this.window.pageYOffset)),isBack:r})}if(e.activePanel!==this.props.activePanel&&t.swipingBack){var i=this.props.activePanel,a=e.activePanel;this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0,activePanel:i,visiblePanels:[i],scrolls:Ce(t.scrolls,[t.swipeBackPrevPanel])},(function(){n.document.dispatchEvent(new n.window.CustomEvent("VKUI:View:transition-end")),window.scrollTo(0,t.scrolls[n.state.activePanel]),e.onTransition&&e.onTransition({isBack:!0,from:a,to:i})}))}var l=this.state.scrolls;if(!t.animated&&this.state.animated){this.document.dispatchEvent(new this.window.CustomEvent("VKUI:View:transition-start",{detail:{scrolls:l}}));var c=this.pickPanel(this.state.nextPanel);this.pickPanel(this.state.prevPanel).scrollTop=l[this.state.prevPanel],this.state.isBack&&(c.scrollTop=l[this.state.nextPanel]),this.waitAnimationFinish(this.pickPanel(this.state.isBack?this.state.prevPanel:this.state.nextPanel),this.transitionEndHandler)}if(!t.swipingBack&&this.state.swipingBack){this.document.dispatchEvent(new this.window.CustomEvent("VKUI:View:transition-start",{detail:{scrolls:l}})),this.props.onSwipeBackStart&&this.props.onSwipeBackStart();var u=this.pickPanel(this.state.swipeBackNextPanel),d=this.pickPanel(this.state.swipeBackPrevPanel);u.scrollTop=l[this.state.swipeBackNextPanel],d.scrollTop=l[this.state.swipeBackPrevPanel]}!t.swipeBackResult&&this.state.swipeBackResult&&this.waitTransitionFinish(this.pickPanel(this.state.swipeBackNextPanel),this.swipingBackTransitionEndHandler),t.swipeBackResult!==Ne.fail||this.state.swipeBackResult||this.window.scrollTo(0,l[this.state.activePanel]),e.activePanel!==this.props.activePanel&&this.state.browserSwipe&&this.setState({browserSwipe:!1,nextPanel:null,prevPanel:null,animated:!1,visiblePanels:[this.props.activePanel],activePanel:this.props.activePanel})}},{key:"waitTransitionFinish",value:function(e,t){if(pe.supported){var n=pe.prefix?pe.prefix+"TransitionEnd":"transitionend";e.removeEventListener(n,t),e.addEventListener(n,t)}else setTimeout((function(){return t()}),this.props.platform===ne?300:600)}},{key:"waitAnimationFinish",value:function(e,t){if(pe.supported){var n=pe.prefix?pe.prefix+"AnimationEnd":"animationend";e.removeEventListener(n,t),e.addEventListener(n,t)}else setTimeout((function(){return t()}),this.props.platform===ne?300:600)}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement&&this.document.activeElement.blur()}},{key:"pickPanel",value:function(e){var t=this.document.getElementById(e);return t||console.warn("Element #".concat(e," not found")),t&&t.parentNode.parentNode}},{key:"onSwipeBackSuccess",value:function(){this.props.onSwipeBack&&this.props.onSwipeBack()}},{key:"onSwipeBackCancel",value:function(){var e=this;this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0},(function(){e.document.dispatchEvent(new e.window.CustomEvent("VKUI:View:transition-end"))}))}},{key:"calcPanelSwipeStyles",value:function(e){var t=e===this.state.swipeBackPrevPanel,n=e===this.state.swipeBackNextPanel;if(!t&&!n||this.state.swipeBackResult)return{};var o="".concat(this.state.swipeBackShift,"px"),r="".concat(100*this.state.swipeBackShift/this.window.innerWidth/2-50,"%"),i=.3*(this.window.innerWidth-this.state.swipeBackShift)/this.window.innerWidth;return this.state.swipeBackResult?t?{boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}:n?{transform:"translate3d(".concat(r,", 0, 0)"),WebkitTransform:"translate3d(".concat(r,", 0, 0)")}:t?{transform:"translate3d(".concat(o,", 0, 0)"),WebkitTransform:"translate3d(".concat(o,", 0, 0)"),boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}}},{key:"calcHeaderSwipeStyles",value:function(e){var t=e===this.state.swipeBackPrevPanel,n=e===this.state.swipeBackNextPanel;if(!t&&!n||null!==this.state.swipeBackResult)return{title:{},left:{},addon:{},right:{}};var o=this.state.swipeBackShift/this.window.innerWidth,r=this.state.swipeBackShift/this.window.innerWidth*30,i=this.state.swipeBackShift/this.window.innerWidth*30;return n?{title:{transform:"translate3d(".concat(-30+r,"vw, 0, 0)"),WebkitTransform:"translate3d(".concat(-30+r,"vw, 0, 0)"),opacity:o},left:{opacity:o},addon:{opacity:1,transform:"translate3d(".concat(-30+i,"vw, 0, 0)"),WebkitTransform:"translate3d(".concat(-30+i,"vw, 0, 0)")},right:{opacity:o}}:t?{title:{transform:"translate3d(".concat(r,"vw, 0, 0)"),WebkitTransform:"translate3d(".concat(r,"vw, 0, 0)"),opacity:1-o},left:{opacity:1-o},addon:{transform:"translate3d(".concat(i,"vw, 0, 0)"),WebkitTransform:"translate3d(".concat(i,"vw, 0, 0)"),opacity:1-o}}:{}}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,o=t.popout,r=t.modal,i=t.header,a=t.platform,s=this.state,l=s.prevPanel,c=s.nextPanel,u=s.activePanel,d=s.swipeBackPrevPanel,p=s.swipeBackNextPanel,f=s.swipeBackResult,m=!!o,v=!!r,y=this.panels.filter((function(t){var n=t.props.id;return e.state.visiblePanels.includes(n)||n===d||n===p})),w={"View--header":i,"View--animated":this.state.animated,"View--swiping-back":this.state.swipingBack};return h.createElement(_e,{Component:"section",className:te(le("View",a),this.props.className,w),style:n,onMoveX:this.onMoveX,onEnd:this.onEnd},i&&h.createElement("div",{className:"View__header"},a===oe&&h.createElement("div",{className:"View__header-scrolltop",onClick:this.onScrollTop}),h.createElement("div",{className:te(le("PanelHeader",a))},y.map((function(t){var n=t.props.id,o=e.calcHeaderSwipeStyles(n);return h.createElement("div",{className:te("PanelHeader__in",{"PanelHeader__in--active":n===u,"PanelHeader__in--prev":n===l,"PanelHeader__in--next":n===c,"PanelHeader__in--swipe-back-prev":n===d,"PanelHeader__in--swipe-back-next":n===p,"PanelHeader__in--swipe-back-success":f===Ne.success,"PanelHeader__in--swipe-back-failed":f===Ne.fail}),key:n,id:"panel-header-".concat(n)},h.createElement("div",{className:"PanelHeader__container"},h.createElement("div",{className:"PanelHeader__left"},h.createElement("div",{className:"PanelHeader__left-in",id:"header-left-".concat(n),style:o.left}),a===oe&&h.createElement("div",{className:"PanelHeader__addon",id:"header-addon-".concat(n),style:o.addon})),h.createElement("div",{className:"PanelHeader__content",style:o.title,id:"header-title-".concat(n)}),h.createElement("div",{className:"PanelHeader__right",id:"header-right-".concat(n),style:o.right})))})))),h.createElement("div",{className:"View__panels"},y.map((function(t){var n=t.props.id;return h.createElement("div",{className:te("View__panel",{"View__panel--active":n===u,"View__panel--prev":n===l,"View__panel--next":n===c,"View__panel--swipe-back-prev":n===d,"View__panel--swipe-back-next":n===p,"View__panel--swipe-back-success":f===Ne.success,"View__panel--swipe-back-failed":f===Ne.fail}),style:e.calcPanelSwipeStyles(n),key:n},h.createElement("div",{className:"View__panel-in"},t))}))),m&&h.createElement("div",{className:"View__popout"},o),v&&h.createElement("div",{className:"View__modal"},r))}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"panels",get:function(){return[].concat(this.props.children)}}]),l}(e.Component);s(Ve,"defaultProps",{header:!0,history:[]}),s(Ve,"contextTypes",{isWebView:H.bool,window:H.any,document:H.any});var Re=he(Ve);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var We={bottom:null,top:null,left:null,right:null};function He(e){var t=e.detail,n=t.type,o=t.data;switch(n){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var r=o.insets;if(r)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{bottom:r.bottom>150?0:r.bottom})}return null}function Le(){return e.useContext(fe).platform||re()}J.subscribe((function(e){var t=He(e);t&&(We=t)}));var Fe=e.createContext(!1);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=function(){return+Date.now()},$e=le("Tappable"),Xe={};function Ke(e){Object.keys(Xe).filter((function(t){return t!==e})).forEach((function(e){clearTimeout(Xe[e].activeTimeout),clearTimeout(Xe[e].timeout),Xe[e].stop(),delete Xe[e]}))}var ze=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"id",void 0),s(i(n),"isSlide",void 0),s(i(n),"insideTouchRoot",void 0),s(i(n),"container",void 0),s(i(n),"timeout",void 0),s(i(n),"wavesTimeout",void 0),s(i(n),"onStart",(function(e){var t=e.originalEvent;!n.insideTouchRoot&&n.props.stopPropagation&&t.stopPropagation(),t.touches&&t.touches.length>1?Ke():(n.props.platform===ne&&n.onDown(t),Xe[n.id]={stop:n.stop,activeTimeout:window.setTimeout(n.start,70)})})),s(i(n),"onMove",(function(e){var t=e.originalEvent,o=e.shiftXAbs,r=e.shiftYAbs;!n.insideTouchRoot&&n.props.stopPropagation&&t.stopPropagation(),(o>20||r>20)&&(n.isSlide=!0,n.stop())})),s(i(n),"onEnd",(function(e){var t=e.originalEvent;!n.insideTouchRoot&&n.props.stopPropagation&&t.stopPropagation();var o=qe();if(t.touches&&t.touches.length>0)n.isSlide=!1;else{if(n.state.active)if(o-n.state.ts>=100)n.stop();else{var r=window.setTimeout(n.stop,n.props.activeEffectDelay-o+n.state.ts),i=n.getStorage();i&&(i.timeout=r)}else if(!n.isSlide){n.start();var a=window.setTimeout(n.stop,n.props.activeEffectDelay);n.getStorage()?(clearTimeout(n.getStorage().activeTimeout),n.getStorage().timeout=a):n.timeout=a}n.isSlide=!1}})),s(i(n),"onDown",(function(e){if(n.props.platform===ne){var t=(c=n.container,u=c.getBoundingClientRect(),d=document.body,p=document.documentElement,f=window.pageYOffset||p.scrollTop||d.scrollTop,h=window.pageXOffset||p.scrollLeft||d.scrollLeft,m=p.clientTop||d.clientTop||0,v=p.clientLeft||d.clientLeft||0,{top:Math.round(u.top+f-m),left:Math.round(u.left+h-v),width:c.offsetWidth,height:c.offsetHeight}),o=t.top,r=t.left,i=ge(e),a=be(e),l="wave"+Date.now().toString();n.setState((function(e){return{clicks:Ie({},e.clicks,s({},l,{x:Math.round(i-r),y:Math.round(a-o)}))}})),n.wavesTimeout=window.setTimeout((function(){n.setState((function(e){var t=Ie({},e.clicks);return delete t[l],{clicks:t}}))}),225)}var c,u,d,p,f,h,m,v})),s(i(n),"start",(function(){n.state.active||n.setState({active:!0,ts:qe()}),Ke(n.id)})),s(i(n),"stop",(function(){n.state.active&&n.setState({active:!1,ts:null}),n.getStorage()&&(clearTimeout(n.getStorage().activeTimeout),delete Xe[n.id])})),s(i(n),"getStorage",(function(){return Xe[n.id]})),s(i(n),"getRef",(function(e){n.container=e;var t=n.props.getRootRef;t&&("function"==typeof t?t(e):t.current=e)})),n.id=Math.round(1e8*Math.random()).toString(16),n.state={clicks:{},active:!1,ts:null},n.isSlide=!1,n}return a(l,e),n(l,[{key:"componentWillUnmount",value:function(){Xe[this.id]&&(clearTimeout(Xe[this.id].timeout),clearTimeout(Xe[this.id].activeTimeout),delete Xe[this.id]),clearTimeout(this.wavesTimeout)}},{key:"render",value:function(){var e=this,t=this.state,n=t.clicks,o=t.active,r=this.props,i=r.children,a=r.className,s=r.Component,l=(r.activeEffectDelay,r.stopPropagation,r.getRootRef,r.platform),d=u(r,["children","className","Component","activeEffectDelay","stopPropagation","getRootRef","platform"]),p=te($e,a,{"Tappable--active":o,"Tappable--inactive":!o}),f=d.disabled?s:_e,m={};return d.disabled?m.ref=this.getRef:(m.Component=s,m.onStart=this.onStart,m.onMove=this.onMove,m.onEnd=this.onEnd,m.getRootRef=this.getRef),h.createElement(Fe.Consumer,null,(function(t){return e.insideTouchRoot=t,h.createElement(f,c({},d,{className:p},m),l===ne&&h.createElement("span",{className:"Tappable__waves"},Object.keys(n).map((function(e){return h.createElement("span",{className:"Tappable__wave",style:{top:n[e].y,left:n[e].x},key:e})}))),i)}))}}]),l}(e.Component);s(ze,"defaultProps",{Component:"div",role:"button",stopPropagation:!1,disabled:!1,activeEffectDelay:600});var Ue=function(e){var t=e.className,n=e.children,o=e.primary,r=u(e,["className","children","primary"]),i="string"==typeof n||"number"==typeof n,a=r.href?"a":"button",s=Le();return h.createElement(ze,c({},r,{Component:a,activeEffectDelay:200,className:te(le("PanelHeaderButton",s),t,{"PanelHeaderButton--primary":o})}),i?h.createElement("span",{className:"PanelHeaderButton__primitive"},n):n)};Ue.defaultProps={primary:!1};var Ge=e.createContext({webviewType:"internal",isWebView:J.isWebView(),scheme:"bright_light"}),Je=function(e){function i(){return t(this,i),o(this,r(i).apply(this,arguments))}return a(i,e),n(i,[{key:"getChildContext",value:function(){return{hasTabbar:this.props.hasOwnProperty("tabbar")}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.activeStory,o=e.tabbar,r=e.children,i=e.platform,a=u(e,["className","activeStory","tabbar","children","platform"]);return h.createElement("div",c({},a,{className:te(le("Epic",i),t)}),h.Children.toArray(r).find((function(e){return e.props.id===n})),o)}}]),i}(e.Component);s(Je,"childContextTypes",{hasTabbar:H.bool});var Qe=he(Je),Ze=function(t){var n,o=t.className,r=t.children,i=t.shadow,a=t.itemsLayout,s=Le(),l=function(){var t=e.useState(We),n=d(t,2),o=n[0],r=n[1];return e.useEffect((function(){function e(e){var t=He(e);t&&r(t)}return J.subscribe(e),function(){J.unsubscribe(e)}}),[]),o}();return h.createElement("div",{className:te(le("Tabbar",s),o,"Tabbar--l-".concat(function(){switch(a){case"horizontal":case"vertical":return a;default:return h.Children.count(r)>2?"vertical":"horizontal"}}()),{"Tabbar--shadow":i}),style:{paddingBottom:(n=l.bottom,!isNaN(parseFloat(n))&&isFinite(n)?l.bottom:null)}},r)};Ze.defaultProps={shadow:!0};var et=function(e){var t=e.className,n=e.children,o=e.selected,r=e.label,i=e.text,a=u(e,["className","children","selected","label","text"]),s=Le();return h.createElement("div",c({},a,{className:te(le("TabbarItem",s),t,{"TabbarItem--selected":o})}),h.createElement("div",{className:"TabbarItem__in"},h.createElement("div",{className:"TabbarItem__icon"},n,r&&h.createElement("span",{className:"TabbarItem__label"},r)),i&&h.createElement("div",{className:"TabbarItem__text"},i)))},tt=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"elRef",void 0),s(i(n),"animationFinishTimeout",void 0),s(i(n),"onFadeInEnd",(function(e){e&&"animation-full-fade-in"!==e.animationName||n.setState({opened:!0})})),s(i(n),"preventTouch",(function(e){return e.preventDefault()})),s(i(n),"onClick",(function(e){n.state.opened&&n.props.onClick&&n.props.onClick(e)})),n.state={opened:!1},n.elRef=h.createRef(),n}return a(l,e),n(l,[{key:"componentDidMount",value:function(){Z&&(window.addEventListener("touchmove",this.preventTouch,{passive:!1}),this.waitAnimationFinish(this.elRef.current,this.onFadeInEnd))}},{key:"componentWillUnmount",value:function(){Z&&(window.removeEventListener("touchmove",this.preventTouch,{passive:!1}),window.clearTimeout(this.animationFinishTimeout))}},{key:"waitAnimationFinish",value:function(e,t){if(pe.supported){var n=pe.prefix?pe.prefix+"AnimationEnd":"animationend";e.removeEventListener(n,t),e.addEventListener(n,t)}else{var o=this.props.platform;this.animationFinishTimeout=window.setTimeout(t,o===ne?300:600)}}},{key:"render",value:function(){var e=this.props,t=e.alignY,n=e.alignX,o=e.closing,r=e.children,i=e.hasMask,a=(e.onClick,e.className),s=e.platform,l=u(e,["alignY","alignX","closing","children","hasMask","onClick","className","platform"]),d=le("PopoutWrapper",s);return h.createElement("div",c({},l,{className:te(d,"PopoutWrapper--v-".concat(t),"PopoutWrapper--h-".concat(n),{"PopoutWrapper--closing":o},a),onClick:this.onClick,ref:this.elRef}),i&&h.createElement("div",{className:"PopoutWrapper__mask"}),h.createElement("div",{className:"PopoutWrapper__container"},r))}}]),l}(e.Component);s(tt,"defaultProps",{hasMask:!0,alignY:"center",alignX:"center",closing:!1});var nt=he(tt),ot=function(e){function l(e){var n;return t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"element",void 0),s(i(n),"onItemClick",(function(e){return function(){var t=e.action,o=e.autoclose;o?(n.setState({closing:!0}),n.waitTransitionFinish((function(e){e&&"opacity"!==e.propertyName||(o&&n.props.onClose(),t&&t())}))):t&&t()}})),s(i(n),"onClose",(function(){n.setState({closing:!0}),n.waitTransitionFinish((function(e){e&&"opacity"!==e.propertyName||n.props.onClose()}))})),s(i(n),"stopPropagation",(function(e){e.stopPropagation()})),n.element=h.createRef(),n.state={closing:!1},n}return a(l,e),n(l,[{key:"waitTransitionFinish",value:function(e){if(pe.supported){var t=pe.prefix?pe.prefix+"TransitionEnd":"transitionend";this.element.current.removeEventListener(t,e),this.element.current.addEventListener(t,e)}else setTimeout(e.bind(this),this.props.platform===ne?200:300)}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,o=t.actionsLayout,r=t.children,i=t.className,a=t.style,s=t.platform,l=u(t,["actions","actionsLayout","children","className","style","platform"]),d=this.state.closing;return h.createElement(nt,{className:i,closing:d,style:a,onClick:this.onClose},h.createElement("div",c({},l,{ref:this.element,onClick:this.stopPropagation,className:te(le("Alert",s),{"Alert--v":"vertical"===o,"Alert--h":"horizontal"===o,"Alert--closing":d})}),h.createElement("div",{className:"Alert__content"},r),h.createElement("footer",{className:"Alert__footer"},n.map((function(t,n){return h.createElement(ze,{Component:"button",className:te("Alert__btn","Alert__btn--".concat(t.mode)),onClick:e.onItemClick(t),key:"alert-action-".concat(n)},h.createElement("span",{dangerouslySetInnerHTML:{__html:t.title}}))})))))}}]),l}(e.Component);s(ot,"defaultProps",{actionsLayout:"horizontal",actions:[]});var rt=he(ot),it=y((function(e,t){e.exports=function(){var e=function(e){var t=e.id,n=e.viewBox,o=e.content;this.id=t,this.viewBox=n,this.content=o};function t(e,t){return e(t={exports:{}},t.exports),t.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))},"undefined"!=typeof window?window:void 0!==m||"undefined"!=typeof self&&self;var n=t((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var r;return n&&!0===n.clone&&e(t)?o((r=t,Array.isArray(r)?[]:{}),t,n):t}function n(n,r,i){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,i):e(r)?a[s]=o(n[s],r,i):-1===n.indexOf(r)&&a.push(t(r,i))})),a}function o(r,i,a){var s=Array.isArray(i),l=(a||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(r)?l(r,i,a):t(i,a):function(n,r,i){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],i)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=o(n[s],r[s],i):a[s]=t(r[s],i)})),a}(r,i,a)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return o(e,n,t)}))},o}()})),o=t((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),r=o.svg,i=o.xlink,a={};a[r.name]=r.uri,a[i.name]=i.uri;var s=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(a,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(s(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)}()}));function at(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i=Object.keys(Object(r)),a=0,s=i.length;a<s;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(r,l);void 0!==c&&c.enumerable&&(n[l]=r[l])}}return n}var st=at,lt=y((function(e,t){e.exports=function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==m||"undefined"!=typeof self&&self;var t=e((function(e,t){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var r;return n&&!0===n.clone&&e(t)?o((r=t,Array.isArray(r)?[]:{}),t,n):t}function n(n,r,i){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,i):e(r)?a[s]=o(n[s],r,i):-1===n.indexOf(r)&&a.push(t(r,i))})),a}function o(r,i,a){var s=Array.isArray(i),l=(a||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(r)?l(r,i,a):t(i,a):function(n,r,i){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],i)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=o(n[s],r[s],i):a[s]=t(r[s],i)})),a}(r,i,a)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return o(e,n,t)}))},o}()})),n=e((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),o=n.svg,r=n.xlink,i={};i[o.name]=o.uri,i[r.name]=r.uri;var a,s=function(e,n){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(t(i,n||{}))+">"+e+"</svg>"},l=n.svg,c=n.xlink,u={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; ")},a[l.name]=l.uri,a[c.name]=c.uri,a)},d=function(e){this.config=t(u,e||{}),this.symbols=[]};d.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},d.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},d.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},d.prototype.has=function(e){return null!==this.find(e)},d.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return s(t,e)},d.prototype.toString=function(){return this.stringify()},d.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var p=function(e){var t=e.id,n=e.viewBox,o=e.content;this.id=t,this.viewBox=n,this.content=o};p.prototype.stringify=function(){return this.content},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var f=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},h=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return f(s(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(p),v={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},y=function(e){return Array.prototype.slice.call(e,0)},w=function(){return/firefox/i.test(navigator.userAgent)},g=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},b=function(){return/edge/i.test(navigator.userAgent)},P=function(e){return(e||window.location.href).split("#")[0]},E=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,o){var r,i,a;r=e,i={oldUrl:o,newUrl:n},(a=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,i),window.dispatchEvent(a)}))}])},S=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),y(e.querySelectorAll("symbol")).forEach((function(e){y(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e},k=n.xlink.uri,O=/[{}|\\\^\[\]`"<>]/g;function _(e){return e.replace(O,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var M=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],x=M.map((function(e){return"["+e+"]"})).join(","),C=function(e,t,n,o){var r=_(n),i=_(o);(function(e,t){return y(e).reduce((function(e,n){if(!n.attributes)return e;var o=y(n.attributes),r=t?o.filter(t):o;return e.concat(r)}),[])})(e.querySelectorAll(x),(function(e){var t=e.localName,n=e.value;return-1!==M.indexOf(t)&&-1!==n.indexOf("url("+r)})).forEach((function(e){return e.value=e.value.replace(new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i)})),function(e,t,n){y(e).forEach((function(e){var o=e.getAttribute("xlink:href");if(o&&0===o.indexOf(t)){var r=o.replace(t,n);e.setAttributeNS(k,"xlink:href",r)}}))}(t,r,i)},T="mount",j="symbol_mount";return function(e){function n(n){var o=this;void 0===n&&(n={}),e.call(this,t(v,n));var r,i=(r=r||Object.create(null),{on:function(e,t){(r[e]||(r[e]=[])).push(t)},off:function(e,t){r[e]&&r[e].splice(r[e].indexOf(t)>>>0,1)},emit:function(e,t){(r[e]||[]).map((function(e){e(t)})),(r["*"]||[]).map((function(n){n(e,t)}))}});this._emitter=i,this.node=null;var a=this.config;if(a.autoConfigure&&this._autoConfigure(n),a.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");i.on(T,(function(){return o.updateUrls("#",s)}))}var l=this._handleLocationChange.bind(this);this._handleLocationChange=l,a.listenLocationChangeEvent&&window.addEventListener(a.locationChangeEvent,l),a.locationChangeAngularEmitter&&E(a.locationChangeEvent),i.on(T,(function(e){a.moveGradientsOutsideSymbol&&S(e)})),i.on(j,(function(e){var t;a.moveGradientsOutsideSymbol&&S(e.parentNode),(g()||b())&&(t=[],y(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})))}))}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={isMounted:{}};return o.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=w())},n.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,o=t.newUrl;this.updateUrls(n,o)},n.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(j,t.node)),n},n.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var o="string"==typeof e?document.querySelector(e):e;return n.node=o,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(j,e.node)})),y(o.querySelectorAll("symbol")).forEach((function(e){var t=h.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(T,o),o},n.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach((function(e){return e.destroy()})),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(e,t){if(void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1),this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,o=this.render();return this.node=o,t&&n.childNodes[0]?n.insertBefore(o,n.childNodes[0]):n.appendChild(o),this._emitter.emit(T,o),o},n.prototype.render=function(){return f(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return C(this.node,n,P(e)+"#",P(t)+"#"),!0},Object.defineProperties(n.prototype,o),n}(d)}()})),ct=y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,r=(n=lt)&&n.__esModule?n:{default:n};!("undefined"==typeof window||!window.document||!window.document.createElement)?(o=new r.default({attrs:{id:"__SVG_SPRITE_NODE__"}})).mount():o=null;var i=o;t.default=i}));v(ct);var ut=y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=h)&&n.__esModule?n:{default:n};function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c={display:"block"};function u(e){var t=e.width,n=e.height,i=e.viewBox,s=e.id,u=e.className,d=e.style,p=e.fill,f=e.getRootRef,h=l(e,["width","height","viewBox","id","className","style","fill","getRootRef"]),m=Math.max(t,n);return o.default.createElement("div",r({},h,{ref:f,className:"Icon Icon--".concat(m," Icon--").concat(s," ").concat(u),style:a({},d,{width:t,height:n})}),o.default.createElement("svg",{viewBox:i,width:t,height:n,style:c},o.default.createElement("use",{xlinkHref:"#".concat(s),style:{fill:"currentColor",color:p}})))}u.defaultProps={className:"",style:{}};var d=u;t.default=d}));v(ut);var dt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(it),r=a(ct),i=a(ut);function a(e){return e&&e.__esModule?e:{default:e}}var s="spinner_24";if(r.default){var l=new o.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="spinner_24"><path d="M12 24a1.25 1.25 0 1 1 0-2.5A9.5 9.5 0 1 0 2.5 12c0 1.1.187 2.175.548 3.188a1.25 1.25 0 0 1-2.355.84A11.981 11.981 0 0 1 0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12z" fill="currentColor" fill-rule="nonzero" /></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,st({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};t.default=c}))),pt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(it),r=a(ct),i=a(ut);function a(e){return e&&e.__esModule?e:{default:e}}var s="spinner_32";if(r.default){var l=new o.default({id:s,viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 15.97 15.97 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16z" fill="currentColor" fill-rule="nonzero" /></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,st({},e,{viewBox:"0 0 32 32",id:s,width:isNaN(e.width)?32:+e.width,height:isNaN(e.height)?32:+e.height}))};t.default=c}))),ft=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(it),r=a(ct),i=a(ut);function a(e){return e&&e.__esModule?e:{default:e}}var s="spinner_44";if(r.default){var l=new o.default({id:s,viewBox:"0 0 44 44",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A21.964 21.964 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22z" fill="currentColor" fill-rule="nonzero" /></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,st({},e,{viewBox:"0 0 44 44",id:s,width:isNaN(e.width)?44:+e.width,height:isNaN(e.height)?44:+e.height}))};t.default=c}))),ht=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(it),r=a(ct),i=a(ut);function a(e){return e&&e.__esModule?e:{default:e}}var s="spinner_16";if(r.default){var l=new o.default({id:s,viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="spinner_16"><path d="M8 16a1 1 0 1 1 0-2 6 6 0 1 0-5.7-4.12 1 1 0 1 1-1.9.626A8 8 0 1 1 8 16z" fill="currentColor" fill-rule="nonzero" /></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,st({},e,{viewBox:"0 0 16 16",id:s,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};t.default=c}))),mt=function(e){var t=e.className,n=e.size,o=u(e,["className","size"]),r=Le();return h.createElement("div",c({},o,{className:te(le("Spinner",r),t)}),function(e){switch(e){case"large":return h.createElement(ft,{className:"Spinner__self"});case"medium":return h.createElement(pt,{className:"Spinner__self"});case"small":return h.createElement(ht,{className:"Spinner__self"});default:return h.createElement(dt,{className:"Spinner__self"})}}(n))};mt.defaultProps={size:"regular"};var vt=h.memo(mt),yt=function(e){var t=e.style,n=e.className,o=u(e,["style","className"]),r=Le();return h.createElement(nt,{className:te(le("ScreenSpinner",r),n),style:t},h.createElement("div",{className:"ScreenSpinner__container"},h.createElement(vt,c({size:"large"},o))))};function wt(e,t){e.style.transform=t,e.style.webkitTransform=t}var gt=e.createContext({updateModalHeight:function(){}});function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et="modal-page";function St(e,t){return e>=t[0]&&e<=t[1]}function kt(e){return Math.max(0,Math.min(98,e))}var Ot=function(e){function l(e){var n;t(this,l),n=o(this,r(l).call(this,e)),s(i(n),"modalsState",void 0),s(i(n),"documentScrolling",void 0),s(i(n),"activeTransitions",void 0),s(i(n),"maskElementRef",void 0),s(i(n),"maskAnimationFrame",void 0),s(i(n),"modalRootContext",void 0),s(i(n),"preventTouch",(function(e){if(e){for(;e.originalEvent;)e=e.originalEvent;e.preventDefault()}})),s(i(n),"updateModalHeight",(function(){var e=n.state,t=e.activeModal,o=e.switching;if(t&&n.modalsState[t]&&!o){var r=n.modalsState[t];r&&r.type===Et&&r.dynamicContentHeight&&requestAnimationFrame((function(){return n.checkPageContentHeight()}))}})),s(i(n),"onTouchMove",(function(e){if(!n.state.switching){var t=n.state.activeModal||n.state.nextModal;if(t){var o=n.modalsState[t];return o.type===Et?n.onPageTouchMove(e,o):"modal-card"===o.type?n.onCardTouchMove(e,o):void 0}}})),s(i(n),"onTouchEnd",(function(e){var t=n.state.activeModal||n.state.nextModal;if(t){var o=n.modalsState[t];return o.type===Et?n.onPageTouchEnd(e,o):"modal-card"===o.type?n.onCardTouchEnd(o):void 0}})),s(i(n),"onScroll",(function(e){var t=n.state.activeModal;if(t&&e.target.closest(".ModalPage__content")){var o=n.modalsState[t];o.contentScrolled=!0,clearTimeout(o.contentScrollStopTimeout),o.contentScrollStopTimeout=window.setTimeout((function(){o.contentScrolled&&(o.contentScrolled=!1)}),250)}})),s(i(n),"prevNextSwitchEndHandler",(function(){if(n.activeTransitions=Math.max(0,n.activeTransitions-1),!(n.activeTransitions>0)){var e=n.state.nextModal,t={prevModal:null,nextModal:null,visibleModals:[e],activeModal:e,animated:!1,switching:!1};e||(t.history=[]),n.setState(t)}})),s(i(n),"onMaskClick",(function(){n.state.switching||n.triggerActiveModalClose()}));var a=e.activeModal;return n.state={activeModal:null,prevModal:null,nextModal:a,visibleModals:a?[a]:[],animated:!!a,switching:!1,history:a?[a]:[],isBack:!1,inited:!1,touchDown:!1,dragging:!1},n.activeTransitions=0,n.maskElementRef=h.createRef(),n.initModalsState(),n.modalRootContext={updateModalHeight:n.updateModalHeight},n}return a(l,e),n(l,[{key:"initModalsState",value:function(){this.modalsState=this.modals.reduce((function(e,t){var n=t.props,o={id:t.props.id,onClose:t.props.onClose,dynamicContentHeight:!!n.dynamicContentHeight};return"number"==typeof n.settlingHeight&&(o.settlingHeight=n.settlingHeight),e[o.id]=o,e}),{})}},{key:"componentDidMount",value:function(){this.initActiveModal()}},{key:"componentWillUnmount",value:function(){this.toggleDocumentScrolling(!0)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.activeModal!==e.activeModal&&!this.state.switching){var o=this.props.activeModal,r=e.activeModal;if(null!==o&&!this.modalsState[o])return console.warn("[ModalRoot.componentDidUpdate] nextModal ".concat(o," not found"));var i=f(this.state.history),a=!1;return null===o?i=[]:i.includes(o)?(i=i.splice(0,i.indexOf(o)+1),a=!0):i.push(o),this.setState({activeModal:null,nextModal:o,prevModal:r,visibleModals:[o,r],history:i,isBack:a,animated:!0,inited:!1,switching:!1},(function(){null===o?n.closeActiveModal():n.initActiveModal()}))}this.state.switching&&!t.switching&&requestAnimationFrame((function(){return n.switchPrevNext()})),this.state.activeModal||this.state.prevModal||this.state.nextModal?this.toggleDocumentScrolling(!1):this.toggleDocumentScrolling(!0)}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement&&this.document.activeElement.blur()}},{key:"toggleDocumentScrolling",value:function(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1}):this.window.addEventListener("touchmove",this.preventTouch,{passive:!1}))}},{key:"pickModal",value:function(e){return this.document.getElementById("modal-"+e)}},{key:"initActiveModal",value:function(){var e=this.state.activeModal||this.state.nextModal;if(e){var t=this.pickModal(e),n=this.modalsState[e];switch(t.querySelector(".ModalPage")?n.type=Et:t.querySelector(".ModalCard")&&(n.type="modal-card"),n.type){case Et:n.settlingHeight=n.settlingHeight||75,this.initPageModal(n,t);break;case"modal-card":this.initCardModal(n,t);break;default:console.warn("[ModalRoot.initActiveModal] modalState.type is unknown")}this.setState({inited:!0,switching:!0})}}},{key:"initPageModal",value:function(e,t){var n,o,r,i,a,s,l=t.querySelector(".ModalPage__content"),c=l.firstElementChild.offsetHeight,u=e.translateY;if(e.expandable=c>l.clientHeight,e.modalElement=t,e.innerElement=t.querySelector(".ModalPage__in-wrap"),e.headerElement=t.querySelector(".ModalPage__header"),e.contentElement=t.querySelector(".ModalPage__content"),e.footerElement=t.querySelector(".ModalPage__footer"),e.expandable){var d=(o=100-e.settlingHeight)/2,p=100-o;i=[0,d],a=[d,o+p/4],s=[o+p/4,100],n=!0,r=o}else{i=[r=o=100-(c+e.headerElement.offsetHeight)/e.innerElement.parentElement.offsetHeight*100,r+25],a=[r+25,r+25],s=[r+25,r+100],n=!1}e.expandable&&r>u&&(r=0),e.expandedRange=i,e.collapsedRange=a,e.hiddenRange=s,e.translateY=r,e.translateYFrom=o,e.collapsed=n}},{key:"initCardModal",value:function(e,t){e.modalElement=t,e.innerElement=t.querySelector(".ModalCard__in"),e.translateY=0}},{key:"checkPageContentHeight",value:function(){var e=this.state.activeModal,t=this.pickModal(e);if(t){var n=this.modalsState[e],o=Pt({},n);this.initPageModal(n,t);var r=Pt({},n),i=!1;o.expandable===r.expandable?o.translateYFrom!==r.translateYFrom&&(i=!0):i=!0,i&&(this.animateTranslate(n),this.animatePageHeader(n))}}},{key:"closeActiveModal",value:function(){var e=this.state.prevModal;if(!e)return console.warn("[ModalRoot.closeActiveModal] prevModal is ".concat(e));var t=this.modalsState[e];this.waitTransitionFinish(t,this.prevNextSwitchEndHandler),this.animateTranslate(t,100),this.setMaskOpacity(t,0)}},{key:"onPageTouchMove",value:function(e,t){var n=e.shiftY,o=e.startT,r=e.originalEvent;if(e.isY){if(!r.target.closest(".ModalPage__in"))return r.preventDefault();r.stopPropagation();var i=t.expandable,a=t.contentScrolled,s=t.collapsed,l=t.expanded;if(this.state.touchDown||(t.touchStartTime=o,t.touchStartContentScrollTop=t.contentElement.scrollTop,this.setState({touchDown:!0})),!a&&(null===t.touchMovePositive&&(t.touchMovePositive=n>0),!t.expandable||s||l&&t.touchMovePositive&&0===t.touchStartContentScrollTop||r.target.closest(".ModalPage__header"))){if(r.preventDefault(),!i&&n<0)return;!this.state.dragging&&this.setState({dragging:!0});var c=n/this.window.innerHeight*100,u=Ee(c,72,.8,se);t.touchShiftYPercent=c,t.translateYCurrent=kt(t.translateY+u),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}else r.target.closest(".ModalPage")&&r.preventDefault()}},{key:"onCardTouchMove",value:function(e,t){var n=e.originalEvent,o=e.shiftY,r=e.startT;if(n.target.closest(".ModalCard__container")){this.state.touchDown||(t.touchStartTime=r,this.setState({touchDown:!0,dragging:!0}));var i=o/t.innerElement.offsetHeight*100,a=Ee(i,72,1.2,se);t.touchShiftYPercent=i,t.translateYCurrent=Math.max(0,t.translateY+a),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onPageTouchEnd",value:function(e,t){var n,o=this,r=e.startY,i=e.shiftY;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging){var a=(r+i)/this.window.innerHeight*100,s=t.translateYCurrent;100!==(s=St(s=kt(s+s/(Date.now()-t.touchStartTime)*240*.6*(t.touchShiftYPercent<0?-1:1)),t.expandedRange)?t.expandedRange[0]:St(s,t.collapsedRange)?t.translateYFrom:St(s,t.hiddenRange)?100:t.translateYFrom)&&a>=75&&(s=100),t.translateY=s,t.translateYCurrent=s,t.collapsed=s>0&&s<a,t.expanded=0===s,t.hidden=100===s,t.hidden&&t.onClose(),n=function(){!t.hidden&&o.animateTranslate(t),o.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"onCardTouchEnd",value:function(e){var t,n=this;if(this.state.dragging){var o=e.translateYCurrent,r=o/(Date.now()-e.touchStartTime)*240*.6*(e.touchShiftYPercent<0?-1:1);o=(o=Math.max(0,o+r))>=30?100:0,e.translateY=o,e.hidden=100===o,e.hidden&&e.onClose(),t=function(){!e.hidden&&n.animateTranslate(e),n.setMaskOpacity(e)}}this.setState({touchDown:!1,dragging:!1},t)}},{key:"waitTransitionFinish",value:function(e,t){var n=pe.transitionEndEventName;e.innerElement.addEventListener(n,(function o(){e.innerElement.removeEventListener(n,o),t()}))}},{key:"switchPrevNext",value:function(){var e=this,t=this.state,n=t.prevModal,o=t.nextModal,r=this.modalsState[n],i=this.modalsState[o];if(!r&&!i)return console.warn("[ModalRoot.switchPrevNext] prevModal is ".concat(n,", nextModal is ").concat(o));var a=!!r&&r.type===Et,s=!!r&&"modal-card"===r.type,l=!!i&&i.type===Et,c=!!i&&"modal-card"===i.type;if(r&&(c||s&&l))return this.waitTransitionFinish(r,(function(){e.activeTransitions+=1,e.waitTransitionFinish(i,e.prevNextSwitchEndHandler),e.animateTranslate(i)})),this.animateTranslate(r,100);r&&l&&(this.activeTransitions+=1,this.waitTransitionFinish(r,this.prevNextSwitchEndHandler),a&&r.translateY<=i.translateYFrom&&!this.state.isBack?this.animateTranslate(r,i.translateYFrom+10):this.animateTranslate(r,100)),this.activeTransitions+=1,this.waitTransitionFinish(i,this.prevNextSwitchEndHandler),this.animateTranslate(i)}},{key:"animateTranslate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=e.translateY);var n="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this[n]),this[n]=requestAnimationFrame((function(){if(wt(e.innerElement,"translateY(".concat(t,"%)")),e.type===Et&&e.footerElement){var n=e.footerElement.offsetHeight,o=e.innerElement.offsetHeight*(t/100);wt(e.footerElement,"translateY(calc(".concat(n,"px * -").concat(o/n,"))"))}})),e.type===Et&&e.expandable&&this.animatePageHeader(e,t)}},{key:"animatePageHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=e.translateY);var n=t<15?Math.max(0,15-t)/15:0;requestAnimationFrame((function(){var t=e.headerElement.querySelector(".ModalPageHeader__shadow");t&&(t.style.opacity=n.toString())}))}},{key:"setMaskOpacity",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===n&&this.state.history[0]!==e.id||(cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(t.maskElementRef.current){var o=e.translateY,r=e.translateYCurrent,i=null===n?1-(r-o)/(100-o)||0:n;t.maskElementRef.current.style.opacity=Math.max(0,Math.min(100,i)).toString()}})))}},{key:"triggerActiveModalClose",value:function(){var e=this.modalsState[this.state.activeModal];e&&e.onClose()}},{key:"render",value:function(){var e=this,t=this.state,n=t.prevModal,o=t.activeModal,r=t.nextModal,i=t.visibleModals,a=t.animated,s=t.touchDown,l=t.dragging,c=t.switching;return o||n||r||a?h.createElement(Fe.Provider,{value:!0},h.createElement(gt.Provider,{value:this.modalRootContext},h.createElement(_e,{className:te(le("ModalRoot",this.props.platform),{"ModalRoot--vkapps":"vkapps"===this.webviewType,"ModalRoot--touched":s,"ModalRoot--switching":c}),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},h.createElement("div",{className:"ModalRoot__mask",onClick:this.onMaskClick,ref:this.maskElementRef}),h.createElement("div",{className:"ModalRoot__viewport"},this.modals.map((function(t){var a=t.props.id;if(!i.includes(t.props.id))return null;var s=e.modalsState[a],c=s.type===Et,u="modal-".concat(a);return h.createElement("div",{key:u,id:u,className:te("ModalRoot__modal",{"ModalRoot__modal--active":a===o,"ModalRoot__modal--prev":a===n,"ModalRoot__modal--next":a===r,"ModalRoot__modal--dragging":l,"ModalRoot__modal--expandable":c&&s.expandable,"ModalRoot__modal--expanded":c&&s.expanded,"ModalRoot__modal--collapsed":c&&s.collapsed})},t)})))))):null}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"webviewType",get:function(){return this.context.webviewType||"vkapps"}},{key:"modals",get:function(){return[].concat(this.props.children)}}]),l}(e.Component);s(Ot,"contextTypes",{window:H.any,document:H.any,webviewType:H.oneOf(["vkapps","internal"])});var _t=he(Ot),Mt=function(e){var t=Le(),n=e.className,o=e.left,r=e.right,i=e.children,a=e.noShadow,s=e.getRef,l="string"==typeof i||"number"==typeof i;return h.createElement("div",{className:te(le("ModalPageHeader",t),n),ref:s},h.createElement("div",{className:"ModalPageHeader__in"},h.createElement("div",{className:"ModalPageHeader__left"},o),h.createElement("div",{className:"ModalPageHeader__content"},h.createElement("div",{className:"ModalPageHeader__content-in"},l?h.createElement("span",null,i):i)),h.createElement("div",{className:"ModalPageHeader__right"},r)),!a&&h.createElement("div",{className:"ModalPageHeader__shadow"}))},xt=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(it),r=a(ct),i=a(ut);function a(e){return e&&e.__esModule?e:{default:e}}var s="dismiss_24";if(r.default){var l=new o.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="dismiss_24"><g fill="currentColor" fill-rule="nonzero"><circle opacity=".12" cx="12" cy="12" r="12" /><path d="M12 10.727l3.464-3.463a.9.9 0 1 1 1.272 1.272L13.273 12l3.463 3.464a.9.9 0 1 1-1.272 1.272L12 13.273l-3.464 3.463a.9.9 0 1 1-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 0 1 1.272-1.272L12 10.727z" /></g></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,st({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};t.default=c}))),Ct=v(y((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(h),o=a(it),r=a(ct),i=a(ut);function a(e){return e&&e.__esModule?e:{default:e}}var s="cancel_24";if(r.default){var l=new o.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cancel_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.3 5.7a.99.99 0 0 0-1.4 0L12 10.6 7.1 5.7a.99.99 0 0 0-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 0 0 1.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 0 0 1.4-1.4L13.4 12l4.9-4.9a.99.99 0 0 0 0-1.4z" fill="currentColor" /></g></symbol>'});r.default.add(l)}var c=function(e){return n.default.createElement(i.default,st({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};t.default=c}))),Tt=function(e){function i(e,n){var a;return t(this,i),a=o(this,r(i).call(this,e)),Z&&a.setScheme((n.document||window.document).body,a.mapOldScheme(e.scheme)),a}return a(i,e),n(i,[{key:"mapOldScheme",value:function(e){switch(e){case"client_light":return"bright_light";case"client_dark":return"space_gray";default:return e}}},{key:"setScheme",value:function(e,t){e.setAttribute("scheme",t)}},{key:"componentDidUpdate",value:function(e){e.scheme!==this.props.scheme&&this.setScheme(this.document.body,this.mapOldScheme(this.props.scheme))}},{key:"getChildContext",value:function(){return{isWebView:this.props.isWebView,webviewType:this.props.webviewType,scheme:this.mapOldScheme(this.props.scheme),app:this.props.app}}},{key:"render",value:function(){return h.createElement(Ge.Provider,{value:this.getChildContext()},this.props.children)}},{key:"document",get:function(){return this.context.document||window.document}}]),i}(h.Component);s(Tt,"childContextTypes",{isWebView:H.bool,scheme:H.string,webviewType:H.oneOf(["vkapps","internal"]),app:H.string}),s(Tt,"defaultProps",{webviewType:"internal",isWebView:J.isWebView(),scheme:"bright_light"}),s(Tt,"contextTypes",{document:H.object});process.env.VKUI_VERSION;class jt extends h.Component{constructor(e){super(e),this.state={activePage:e.activePage,activeModal:null,modalHistory:[],modalParams:{},pageParams:{}},this.goPage=this.goPage.bind(this),this.showModal=this.showModal.bind(this),this.hideModal=this.hideModal.bind(this),this.navigatorObject={goPage:this.goPage,showModal:this.showModal,hideModal:window.history.back.bind(window.history)}}goPage(e,t={}){J.send("VKWebAppDisableSwipeBack",{}),this.setState({activePage:e,pageParams:t})}showModal(e,t={}){const{modalHistory:n}=this.state;this.setState({activeModal:e,modalHistory:-1!==n.indexOf(e)?n.splice(0,n.indexOf(e)+1):[...n,e],modalParams:t})}hideModal(){this.setState({activeModal:null,modalHistory:[]})}__buildModals(){const e=this.props.modals||[];if(0===e.length)return null;const{activeModal:t,modalParams:n}=this.state,{navigatorObject:o}=this,{platform:r}=this.props;return h.createElement(_t,{activeModal:t,children:h.Children.map(e,e=>h.cloneElement(e,{...e.props,onClose:window.history.back.bind(window.history),header:h.createElement(Mt,{left:r===ne&&h.createElement(Ue,{onClick:window.history.back.bind(window.history),children:h.createElement(Ct,null)}),right:r===oe&&h.createElement(Ue,{onClick:window.history.back.bind(window.history),children:h.createElement(xt,null)}),children:e.props.title||""}),navigator:{...o,params:e.props.id===t?n:{}}}))})}render(){const{activePage:e,activeModal:t,pageParams:n}=this.state,{showModal:o,hideModal:r,goPage:i}=this,{children:a,modal:s,disabledConfigProvider:l,webviewType:c}=this.props,u=this.__buildModals(s),d=h.createElement(we,{activeView:e,modal:u},h.Children.map(a,e=>h.cloneElement(e,{id:e.props.id,showModal:o,hideModal:r,goPage:i,isModalOpen:null!==t,pageParams:n})));return l?d:h.createElement(Tt,{webviewType:c,isWebView:!0},d)}}jt.propTypes={activePage:H.string.isRequired};var Nt=he(jt);class At extends h.Component{constructor(e){super(e),this.state={activePanel:e.activePanel,homePanel:e.activePanel,history:[e.activePanel],popout:null,params:{},header:e.header},this.go=this.go.bind(this),this.goPage=this.props.goPage,this.popBack=this.popBack.bind(this),this.showModal=this.showModal.bind(this),this.hideModal=this.hideModal.bind(this),this.showPopout=this.showPopout.bind(this),this.showLoader=this.showLoader.bind(this),this.hideLoader=this.hideLoader.bind(this),this.showDialog=this.showDialog.bind(this),this.showAlert=this.showAlert.bind(this),this.headerVisible=this.headerVisible.bind(this),this.navigatorObject={go:this.go,goPage:this.goPage,goBack:window.history.back.bind(window.history),showModal:this.showModal,hideModal:()=>window.history.back,showPopout:this.showPopout,showLoader:this.showLoader,hideLoader:this.hideLoader,showDialog:this.showDialog,showAlert:this.showAlert,headerVisible:this.headerVisible}}go(e,t={}){const{activePanel:n,homePanel:o,history:r}=this.state;n===o&&J.send("VKWebAppEnableSwipeBack",{}),window.history.pushState({panel:e,modal:null},e),this.setState({activePanel:e,history:[...r,e],popout:null,params:t})}popBack(){const{history:e,popout:t,homePanel:n}=this.state,{isModalOpen:o}=this.props,{hideModal:r}=this;if(null!==t)return void this.setState({popout:null});if(o)return void r();if(1===e.length)return null;const i=e[e.length-2];i===n&&J.send("VKWebAppDisableSwipeBack",{}),this.setState({activePanel:i,history:e.slice(0,e.length-1),popout:null,activeModal:null,modalHistory:[],modalParams:{}})}showPopout(e){this.setState({popout:e})}showLoader(){this.showPopout(h.createElement(yt,null))}hideLoader(){this.showPopout(null)}showDialog({title:e,description:t,buttonText:n,action:o}){this.showPopout(h.createElement(rt,{actionsLayout:"vertical",actions:[{title:n||"",action:o,style:"destructive"},{title:"",autoclose:!0,style:"cancel"}],onClose:()=>this.showPopout(null)},h.createElement("h2",null,e),h.createElement("p",null,t)))}showAlert({title:e,description:t}){this.showPopout(h.createElement(rt,{actions:[{title:"",autoclose:!0,style:"cancel"}],onClose:()=>this.showPopout(null)},h.createElement("h2",null,e),h.createElement("p",null,t)))}showModal(e,t={}){const{showModal:n}=this.props,{activePanel:o}=this.state;J.send("VKWebAppDisableSwipeBack",{}),window.history.pushState({panel:o,modal:e},o),n(e,t)}hideModal(){const{hideModal:e}=this.props,{activePanel:t,homePanel:n}=this.state;t!==n&&J.send("VKWebAppEnableSwipeBack",{}),e()}headerVisible(e){this.setState({header:e})}componentDidMount(){const{homePanel:e}=this.state;J.send("VKWebAppDisableSwipeBack",{}),window.addEventListener("popstate",this.popBack),window.history.replaceState({panel:e},e)}componentWillUnmount(){const{history:e}=this.state;window.removeEventListener("popstate",this.popBack);for(let t=0;t<e.length-1;t++)window.history.back()}render(){const{id:e,children:t,pageParams:n}=this.props,{activePanel:o,history:r,popout:i,params:a,header:s}=this.state,{navigatorObject:l}=this;return h.createElement(Re,{id:e,activePanel:o,history:r,popout:i,header:s,onSwipeBack:window.history.back.bind(window.history)},h.Children.map(t,e=>h.cloneElement(e,{id:e.props.id,navigator:{...l,params:e.props.id===o?{...a,pageParams:n}:{}}})))}}At.propTypes={id:H.string.isRequired,activePanel:H.string.isRequired,children:H.any,header:H.bool},H.defaultProps={children:[]};class Bt extends h.Component{constructor(e){super(e),this.state={activeStory:e.activeStory},this.__buildBar=this.__buildBar.bind(this),this.goStory=this.goStory.bind(this)}goStory(e){this.setState({activeStory:e.currentTarget.dataset.story})}__buildBar(e){const{goStory:t}=this,{activeStory:n}=this.state;return h.createElement(Ze,null,h.Children.map(e,(e,o)=>h.createElement(et,{key:o,onClick:t,selected:n===e.props.id,"data-story":e.props.id,text:e.props.title||"",children:e.props.icon||null,label:e.props.label||""})))}render(){const{id:e,children:t,showModal:n,hideModal:o,goPage:r,isModalOpen:i,pageParams:a}=this.props,{activeStory:s}=this.state,{__buildBar:l}=this;return h.createElement(Qe,{id:e,activeStory:s,tabbar:l(t)},h.Children.map(t,e=>h.cloneElement(e,{...e.props,goPage:r,showModal:n,hideModal:o,isModalOpen:i,pageParams:a})))}}return{Stack:Nt,Page:At,Tabbar:Bt}}));
